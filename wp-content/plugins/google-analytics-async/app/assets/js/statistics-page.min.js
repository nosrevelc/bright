(function(t){function e(e){for(var a,r,o=e[0],l=e[1],c=e[2],u=0,h=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&h.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(h.length)h.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var l=s[o];0!==i[l]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},i={"statistics-page":0},n=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/app/assets/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;n.push([5,"chunk-vendors","chunk-common"]),s()})({5:function(t,e,s){t.exports=s("5d72")},"5d72":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-wrap",attrs:{id:"beehive-page-statics"}},[s("sui-header",{attrs:{title:t.$i18n.statistics.titles.google_analytics,showDocLink:!1},scopedSlots:t._u([{key:"right",fn:function(){return[s("div",{attrs:{id:"beehive-statics-period"}},[s("sui-calendar-range",{attrs:{id:"beehive-stats-datepicker",periods:t.$vars.dates.periods,"start-date":t.$vars.dates.start_date,"end-date":t.$vars.dates.end_date,"selected-label":t.$vars.dates.selected_label},on:{periodChange:t.periodChange}}),s("sui-checkbox",{attrs:{id:"beehive-stats-compare-period",type:"small",label:t.$i18n.statistics.labels.compare_periods},model:{value:t.compare,callback:function(e){t.compare=e},expression:"compare"}})],1)]},proxy:!0}])}),t.canView("visitors")?s("visitors",{attrs:{stats:t.stats,compare:t.compare,periods:t.periods,loading:t.loading}}):t._e(),s("div",{staticClass:"sui-row"},[t.canView("mediums")?s("div",{staticClass:"sui-col-lg-4"},[s("mediums",{attrs:{stats:t.stats,loading:t.loading}})],1):t._e(),t.canView("social_networks")?s("div",{staticClass:"sui-col-lg-4"},[s("social-networks",{attrs:{stats:t.stats,loading:t.loading}})],1):t._e(),t.canView("search_engines")?s("div",{staticClass:"sui-col-lg-4"},[s("search-engines",{attrs:{stats:t.stats,loading:t.loading}})],1):t._e()]),s("div",{staticClass:"sui-row"},[t.canView("countries")?s("div",{staticClass:"sui-col-lg-6"},[s("countries",{attrs:{stats:t.stats,loading:t.loading}})],1):t._e(),t.canView("pages")?s("div",{staticClass:"sui-col-lg-6"},[s("pages",{attrs:{stats:t.stats,loading:t.loading}})],1):t._e()])],1)},n=[],r=(s("caad"),s("b64b"),s("2532"),s("96cf"),s("1da1")),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("sui-box",{attrs:{title:t.$i18n.statistics.labels.top_pages,titleIcon:"page-multiple","aria-live":"polite",loading:t.loading},scopedSlots:t._u([{key:"body",fn:function(){return[!0===t.loading?s("p",{staticClass:"beehive-loading-text"},[s("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.statistics.labels.fetching_data)+" ")]):t._e(),!t.isLoggedIn||t.isEmpty?s("p",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.statistics.labels.no_information))]):s("table",{staticClass:"beehive-table-pages"},[s("thead",[s("tr",[s("th",{attrs:{colspan:"2"}},[t._v(t._s(t.$i18n.statistics.labels.top_pages_most_visited))]),s("th",[t._v(t._s(t.$i18n.statistics.labels.average_sessions))]),s("th",[t._v(t._s(t.$i18n.statistics.labels.views))]),s("th",[t._v(t._s(t.$i18n.statistics.labels.trend))])])]),s("tbody",t._l(t.getPages,(function(e,a){return s("tr",{key:a},[s("td",{attrs:{colspan:"2"},domProps:{innerHTML:t._s(e[0])}}),s("td",[t._v(t._s(e[1]))]),s("td",[t._v(t._s(e[2]))]),e[3]<0?s("td",{staticClass:"beehive-red"},[s("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(e[3])+"% ")]):e[3]>0?s("td",{staticClass:"beehive-green"},[s("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(e[3])+"% ")]):s("td",{staticClass:"beehive-green"},[t._v("0%")])])})),0)])]},proxy:!0}])})},l=[],c=(s("fb6a"),s("e5d1")),d={name:"Pages",props:["stats","loading"],components:{SuiBox:c["a"]},computed:{isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0||!this.stats.pages},getPages:function(){var t=[];return this.stats.pages&&(t=this.stats.pages.slice(0,9)),t}}},u=d,h=s("2877"),p=Object(h["a"])(u,o,l,!1,null,null,null),b=p.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("sui-box",{attrs:{title:t.$i18n.statistics.labels.mediums,titleIcon:"community-people","aria-live":"polite",loading:t.loading},scopedSlots:t._u([{key:"body",fn:function(){return[!0===t.loading?s("p",{staticClass:"beehive-loading-text"},[s("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.statistics.labels.fetching_data)+" ")]):t._e(),!t.isLoggedIn||t.isEmpty?s("p",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.statistics.labels.no_information))]):s("fragment",[s("pie-chart",{staticClass:"beehive-chart-pie",attrs:{"chart-data":t.chartData,options:t.chartOptions}}),s("ul",{staticClass:"beehive-chart-pie-legend"},t._l(t.stats.mediums,(function(e,a){return s("li",{key:a,staticClass:"beehive-legend-item"},[s("span",{staticClass:"beehive-legend-item-color",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"beehive-legend-item-name"},[s("span",[t._v(t._s(e[0]))]),s("strong",[t._v(t._s(e[1]))])])])})),0)],1)]},proxy:!0}])})},v=[],m=(s("4160"),s("159b"),s("655a")),f={name:"Mediums",props:["stats","loading"],components:{SuiBox:c["a"],PieChart:m["a"]},data:function(){return{chartData:{},chartOptions:{legend:{display:!1},tooltips:{xPadding:15,yPadding:15,backgroundColor:"rgba(51,51,51,0.85)",titleSpacing:0,titleMarginBottom:0,bodyFontColor:"#FFFFFF",bodyFontSize:14,bodyFontFamily:"Roboto",bodyFontStyle:"bold",bodyAlign:"left",cornerRadius:4,displayColors:!1},responsive:!0,maintainAspectRatio:!1}}},watch:{stats:function(t){this.setupChartData()}},computed:{isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0||!this.stats.mediums}},methods:{setupChartData:function(){if(this.isEmpty)this.chartData={};else{var t=this,e={labels:[],datasets:[{label:"Sessions",data:[],borderWidth:2,borderColor:"#FFFFFF",backgroundColor:[],hoverBorderWidth:"#FFFFFF"}]},s=[],a=[],i=[];Object.keys(t.stats.mediums).forEach((function(e){s.push(t.stats.mediums[e][0]),a.push(t.stats.mediums[e][1]),e%2?i.push("#0582B5"):i.push("#17A8E3")})),e.labels=s,e.datasets[0].data=a,e.datasets[0].backgroundColor=i,this.chartData=e}}}},_=f,y=Object(h["a"])(_,g,v,!1,null,null,null),C=y.exports,F=s("7f2d"),k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("sui-box",{attrs:{title:t.$i18n.statistics.labels.visitors,"title-icon":"profile-male","aria-live":"polite",loading:t.loading,"body-class":"beehive-spacing-bottom--0"},scopedSlots:t._u([{key:"body",fn:function(){return[t.canGetStats&&t.isEmpty?s("sui-notice",{attrs:{message:t.$i18n.statistics.notices.google_no_data,type:"info"}}):t.canGetStats||t.isLoggedIn?t._e():s("sui-notice",{attrs:{message:t.sprintf(t.$i18n.statistics.notices.google_not_linked,t.$vars.urls.settings),type:"error"}})]},proxy:!0},{key:"outside",fn:function(){return[t.loading?s("p",{staticClass:"beehive-loading-text"},[s("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.statistics.labels.fetching_data)+" ")]):t._e(),s("chart-visitors",{attrs:{stats:t.stats,periods:t.periods,compare:t.compare}})]},proxy:!0}])})},x=[],$=s("5659"),w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"beehive-tabs"},[s("div",{staticClass:"beehive-tabs-tablist"},t._l(t.getSummary,(function(e,a){return s("button",{key:a,staticClass:"beehive-tab",class:t.buttonClass(a),attrs:{"aria-controls":"beehive-visitors-chart","aria-selected":t.ariaSelected(a),tabindex:t.tabIndex(a)},on:{click:function(e){return t.changeTab(a)}}},[s("span",{staticClass:"beehive-tab-title",attrs:{"aria-hidden":"true"}},[t._v(t._s(t.getTitle(a)))]),s("span",{staticClass:"beehive-tab-value-wrap",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"beehive-tab-value"},"bounce_rates"===a?[t._v(t._s(e.value)+"%")]:[t._v(t._s(e.value))]),e.trend<0&&"bounce_rates"===a?s("span",{staticClass:"beehive-tab-trend beehive-green"},[s("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(e.trend))+"% ")]):e.trend<0?s("span",{staticClass:"beehive-tab-trend beehive-red"},[s("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(e.trend))+"% ")]):e.trend>0&&"bounce_rates"===a?s("span",{staticClass:"beehive-tab-trend beehive-red"},[s("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(e.trend))+"% ")]):e.trend>0?s("span",{staticClass:"beehive-tab-trend beehive-green"},[s("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(e.trend))+"% ")]):t._e()]),s("span",{staticClass:"sui-screen-reader-text"},[t._v(t._s(t.getTitle(a)))])])})),0),s("div",{staticClass:"beehive-tab-panel",attrs:{id:"beehive-visitors-chart"}},[s("line-chart",{staticClass:"beehive-chart",attrs:{id:t.chartId,role:"img","aria-hidden":"true","chart-data":t.chartData,options:t.getOptions}}),t.compare?s("div",{staticClass:"beehive-options-sidenote",attrs:{tabindex:"-1","aria-hidden":"true"}},[s("span",{staticClass:"beehive-sidenote-left"},[s("i",{staticClass:"beehive-sidenote-indicator",style:t.getLegendStyle(0),attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.statistics.labels.current_period)+" ")]),s("span",{staticClass:"beehive-sidenote-right"},[s("i",{staticClass:"beehive-sidenote-indicator",style:t.getLegendStyle(1),attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.statistics.labels.previous_period)+" ")])]):t._e(),t.isEmpty?s("p",{staticClass:"sui-screen-reader-text"},[t._v(t._s(t.$i18n.statistics.descriptions.empty_visitors_chart))]):t._e()],1)])},S=[],D=(s("a434"),s("c1df")),E=s.n(D),O=s("f7cd"),P={name:"ChartVisitors",props:["stats","compare","periods"],components:{LineChart:O["a"]},data:function(){return{chartId:"beehive-visitors-line-chart",selectedTab:"sessions",sections:{sessions:{color:["#17A8E3","#ADDCF2"],title:this.$i18n.statistics.labels.sessions},users:{color:["#2D8CE2","#9DD0FF"],title:this.$i18n.statistics.labels.users},pageviews:{color:["#8D00B1","#E9CCF0"],title:this.$i18n.statistics.labels.pageviews},page_sessions:{color:["#3DB8C2","#C0EBEF"],title:this.$i18n.statistics.labels.page_sessions},average_sessions:{color:["#2B7BA1","#C0EBEF"],title:this.$i18n.statistics.labels.average_sessions},bounce_rates:{color:["#FFB17C","#FFE3CF"],title:this.$i18n.statistics.labels.bounce_rates}},defaultChartOptions:{legend:{display:!1},scales:{yAxes:[{gridLines:{display:!0,color:"#E6E6E6",zeroLineColor:"#E6E6E6",drawBorder:!1},ticks:{fontColor:"#676767",fontSize:11}}],xAxes:[{gridLines:{display:!0,zeroLineColor:"rgba(0,0,0,0)",drawBorder:!1},ticks:{fontColor:"#676767",fontSize:11}}]},tooltips:{xPadding:15,yPadding:15,backgroundColor:"rgba(51,51,51,0.85)",titleFontColor:"#FFFFFF",titleFontSize:14,titleFontFamily:"Roboto",titleFontStyle:"bold",titleAlign:"left",titleSpacing:0,titleMarginBottom:10,bodyFontColor:"#FFFFFF",bodyFontSize:14,bodyFontFamily:"Roboto",bodyFontStyle:"normal",bodySpacing:10,bodyAlign:"left",cornerRadius:4,displayColors:!1,mode:"index",intersect:!1},responsive:!0,maintainAspectRatio:!1},chartColors:{},chartOptions:{},chartData:{labels:[],datasets:[]},tooltipTitles:{}}},watch:{stats:function(t){this.changeStatsChart()},selectedTab:function(t){this.changeStatsChart()},compare:function(t){this.changeComparison()}},computed:{isEmpty:function(){return Object.keys(this.stats).length<=0},getSummary:function(){var t=this;if(this.stats.summary){var e={};return Object.keys(this.stats.summary).forEach((function(s){t.canShow(s)&&(e[s]=t.stats.summary[s])})),e}return{}},getCurrentPeriodText:function(){return this.getPeriodLegend(this.periods.current.from,this.periods.current.to)},getPreviousPeriodText:function(){return this.getPeriodLegend(this.periods.previous.from,this.periods.previous.to)},buttonClass:function(){return function(t){return{"beehive-active":this.selectedTab===t}}},ariaSelected:function(){return function(t){return t===this.selectedTab?"true":"false"}},tabIndex:function(){return function(t){return t===this.selectedTab&&-1}},getLegendStyle:function(){return function(t){return{"background-color":this.sections[this.selectedTab].color[t]}}},getOptions:function(){return this.isEmpty?{responsive:!0,maintainAspectRatio:!1}:this.chartOptions}},methods:{canShow:function(t){return this.sections.hasOwnProperty(t)},getPeriodLegend:function(t,e){if(t===e){var s=E()(t);return s.format("MMM D, YYYY")}var a=E()(t),i=E()(e);return a.format("MMM D, YYYY")+" - "+i.format("MMM D, YYYY")},getTitle:function(t){return this.sections[t].title},changeTab:function(t){this.selectedTab=t},changeStatsChart:function(){var t=this;if(this.isEmpty)return this.chartData={labels:[],datasets:[]},void(this.chartOptions=this.defaultChartOptions);var e=this,s=[],a=[],i=[],n=this.defaultChartOptions,r=this.sections[this.selectedTab].color,o=this.getTitle(e.selectedTab),l={labels:[],datasets:[{label:o,data:[],borderWidth:2,borderColor:r[0],backgroundColor:"rgba(0,0,0,0)",pointRadius:4,pointBorderColor:r[0],pointBackgroundColor:"#FFFFFF",pointHoverBackgroundColor:r[0]}]},c=e.stats[e.selectedTab].current;Object.keys(c).forEach((function(t,e,n){s.push(c[t][0]),a.push(c[t][1]),e===n.length-1?i.push("rgba(0,0,0,0)"):i.push("#E6E6E6")})),n.scales.xAxes[0].gridLines["color"]=i,n.tooltips.callbacks={},n.tooltips.callbacks.label=function(s){var a=s.value;s.index;return"average_sessions"===e.selectedTab?a=E.a.utc(1e3*a).format("HH:mm:ss"):"bounce_rates"===e.selectedTab&&(a+="%"),t.compare?1===s.datasetIndex?t.$i18n.statistics.labels.previous_period+" : "+a:t.$i18n.statistics.labels.current_period+" : "+a:o+" : "+a},n.tooltips.callbacks.title=function(e){return t.compare?o:e[0].label},l.datasets[0].label=o,l.labels=s,l.datasets[0].data=a,0===a.length&&(l.datasets[0].borderColor="rgba(0, 0, 0, 0)",l.datasets[0].pointRadius=0,l.datasets[0].pointBorderColor="rgba(0, 0, 0, 0)",l.datasets[0].pointBackgroundColor="rgba(0, 0, 0, 0)",l.datasets[0].pointHoverBackgroundColor="rgba(0, 0, 0, 0)",n.tooltips["enabled"]=!1,n.scales.yAxes[0].ticks["suggestedMin"]=4e4,n.scales.yAxes[0].ticks["suggestedMax"]=44e3,n.scales.yAxes[0].ticks["beginAtZero"]=!0,n.scales.yAxes[0].ticks["maxTicksLimit"]=5),this.compare&&l.datasets.push(this.getPrevPeriodDataSet()),this.chartData=l,this.chartOptions=n},changeComparison:function(){this.isEmpty||(this.compare?this.chartData.datasets.push(this.getPrevPeriodDataSet()):this.chartData.datasets.length>1&&this.chartData.datasets.splice(1,1),this.$root.$emit("updateLineChart",{chart:this.chartId}))},getPrevPeriodDataSet:function(){var t=[],e=this.stats[this.selectedTab].previous,s=this.getTitle(this.selectedTab),a=this.sections[this.selectedTab].color;return Object.keys(e).forEach((function(s){t.push(e[s][1])})),{label:s,data:t,borderWidth:2,borderColor:a[1],backgroundColor:"rgba(0,0,0,0)",pointRadius:4,pointBorderColor:a[1],pointBackgroundColor:"#FFFFFF",pointHoverBackgroundColor:a[1]}}}},j=P,B=Object(h["a"])(j,w,S,!1,null,null,null),A=B.exports,T={name:"Visitors",props:["stats","compare","loading","periods"],data:function(){return{bodyClass:"test"}},components:{SuiBox:c["a"],SuiNotice:$["a"],ChartVisitors:A},computed:{isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0},canGetStats:function(){return this.$moduleVars.can_get_stats>0}},methods:{}},L=T,M=Object(h["a"])(L,k,x,!1,null,null,null),R=M.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("sui-box",{attrs:{title:t.$i18n.statistics.labels.top_countries,titleIcon:"web-globe-world","aria-live":"polite",loading:t.loading},scopedSlots:t._u([{key:"body",fn:function(){return[!0===t.loading?s("p",{staticClass:"beehive-loading-text"},[s("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.statistics.labels.fetching_data)+" ")]):t._e(),!t.isLoggedIn||t.isEmpty?s("p",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.statistics.labels.no_information))]):s("fragment",[s("GChart",{attrs:{type:"GeoChart",settings:{packages:["geochart"]},data:t.chartData,options:t.chartOptions},on:{ready:t.onChartReady}}),s("table",{staticClass:"beehive-chart-map-legend"},[s("thead",[s("tr",[s("th",[t._v(t._s(t.$i18n.statistics.labels.country_code))]),s("th",[t._v(t._s(t.$i18n.statistics.labels.country_name))]),s("th",[t._v(t._s(t.$i18n.statistics.labels.visits_percentage))]),s("th",[t._v(t._s(t.$i18n.statistics.labels.total_visits))])])]),s("tbody",t._l(t.getCountries,(function(e,a){return s("tr",{key:a,staticClass:"beehive-legend-item"},[s("td",{staticClass:"beehive-legend-item-flag"},[s("span",{staticClass:"sui-screen-reader-text"},[t._v(t._s(e[1]))]),s("span",{class:"beehive-flag beehive-flag-"+e[1],attrs:{"aria-hidden":"true"}})]),s("td",{staticClass:"beehive-legend-item-name"},[t._v(t._s(e[0]))]),s("td",{staticClass:"beehive-legend-item-bar"},[s("span",{staticClass:"sui-screen-reader-text"},[t._v(t._s(t.sprintf(t.$i18n.statistics.descriptions.percentage_visits,t.visitsPercent(e[2])+"%")))]),s("span",{attrs:{"aria-hidden":"true"}},[s("span",{style:"width: "+t.visitsPercent(e[2])+"%;"})])]),s("td",{staticClass:"beehive-legend-item-value"},[t._v(t._s(e[2]))])])})),0)])],1)]},proxy:!0}])})},V=[],Y=s("cb43"),z={name:"Countries",props:["stats","loading"],components:{GChart:Y["GChart"],SuiBox:c["a"]},data:function(){return{chartData:{},chartOptions:{chart:{title:this.$i18n.statistics.labels.country_sessions},colorAxis:{colors:["#6DD5FF","#49BFEF","#17A8E3","#0582B5"]},backgroundColor:{fill:"#FFFFFF",strokeWidth:0},datalessRegionColor:"#DDDDDD",tooltip:{isHtml:!0,showTitle:!1,ignoreBounds:!0,textStyle:{color:"#FFFFFF",fontName:"Roboto",fontSize:13}}},chart:null,chartApi:null}},watch:{stats:function(t){this.setupList()}},methods:{visitsPercent:function(t){var e=this,s=0;return Object.keys(this.stats.countries).forEach((function(t){s+=parseInt(e.stats.countries[t][2])})),100*parseInt(t)/s},setupList:function(){if(!this.isEmpty&&this.chartApi){var t=this,e=[],s=new this.chartApi.visualization.DataTable;s.addColumn("string",this.$i18n.statistics.labels.country),s.addColumn("number",this.$i18n.statistics.labels.sessions),s.addColumn({type:"string",role:"tooltip",p:{html:!0}}),Object.keys(t.stats.countries).forEach((function(s){e.push([t.stats.countries[s][0],t.stats.countries[s][2],t.geoToolTip(t.stats.countries[s][0],t.stats.countries[s][1],t.stats.countries[s][2])])})),s.addRows(e),this.chartData=s}else this.chartData={}},geoToolTip:function(t,e,s){return'<span class="beehive-charts-geotooltip"><span class="beehive-flag beehive-flag-unframed beehive-flag-'+e+'" aria-hidden="true"></span><span class="beehive-country-sessions"><span class="beehive-country-name">'+t+'</span><span class="sui-screen-reader-text">'+this.$i18n.statistics.labels.has+"</span> <strong>"+s+"</strong> "+this.$i18n.statistics.labels.sessions+"</span></span>"},onChartReady:function(t,e){this.chartApi=e,this.isEmpty||this.setupList()}},computed:{isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0||!this.stats.countries},getCountries:function(){var t=[];return this.stats.countries&&(t=this.stats.countries.slice(0,5)),t}}},W=z,G=Object(h["a"])(W,I,V,!1,null,null,null),H=G.exports,N=s("5b5e"),q=s("6e06"),J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("sui-box",{attrs:{title:t.$i18n.statistics.labels.search_engines,titleIcon:"magnifying-glass-search","aria-live":"polite",loading:t.loading},scopedSlots:t._u([{key:"body",fn:function(){return[!0===t.loading?s("p",{staticClass:"beehive-loading-text"},[s("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.statistics.labels.fetching_data)+" ")]):t._e(),!t.isLoggedIn||t.isEmpty?s("p",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.statistics.labels.no_information))]):s("fragment",[s("pie-chart",{staticClass:"beehive-chart-pie",attrs:{"chart-data":t.chartData,options:t.chartOptions}}),s("ul",{staticClass:"beehive-chart-pie-legend"},t._l(t.stats.search_engines,(function(e,a){return s("li",{key:a,staticClass:"beehive-legend-item"},[s("span",{staticClass:"beehive-legend-item-color",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"beehive-legend-item-name"},[s("span",[t._v(t._s(e[0]))]),s("strong",[t._v(t._s(e[1]))])])])})),0)],1)]},proxy:!0}])})},Z=[],K={name:"SearchEngines",props:["stats","loading"],components:{SuiBox:c["a"],PieChart:m["a"]},data:function(){return{chartData:{},chartOptions:{legend:{display:!1},tooltips:{xPadding:15,yPadding:15,backgroundColor:"rgba(51,51,51,0.85)",titleSpacing:0,titleMarginBottom:0,bodyFontColor:"#FFFFFF",bodyFontSize:14,bodyFontFamily:"Roboto",bodyFontStyle:"bold",bodyAlign:"left",cornerRadius:4,displayColors:!1},responsive:!0,maintainAspectRatio:!1}}},watch:{stats:function(t){this.setupChartData()}},computed:{isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0||!this.stats.search_engines}},methods:{setupChartData:function(){if(this.isEmpty)this.chartData={};else{var t=this,e={labels:[],datasets:[{label:"Sessions",data:[],borderWidth:2,borderColor:"#FFFFFF",backgroundColor:[],hoverBorderWidth:"#FFFFFF"}]},s=[],a=[],i=[];Object.keys(t.stats.search_engines).forEach((function(e){s.push(t.stats.search_engines[e][0]),a.push(t.stats.search_engines[e][1]),e%2?i.push("#0582B5"):i.push("#17A8E3")})),e.labels=s,e.datasets[0].data=a,e.datasets[0].backgroundColor=i,this.chartData=e}}}},Q=K,U=Object(h["a"])(Q,J,Z,!1,null,null,null),X=U.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("sui-box",{attrs:{title:t.$i18n.statistics.labels.social_networks,titleIcon:"share","aria-live":"polite",loading:t.loading},scopedSlots:t._u([{key:"body",fn:function(){return[!0===t.loading?s("p",{staticClass:"beehive-loading-text"},[s("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.statistics.labels.fetching_data)+" ")]):t._e(),!t.isLoggedIn||t.isEmpty?s("p",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.statistics.labels.no_information))]):s("fragment",[s("pie-chart",{staticClass:"beehive-chart-pie",attrs:{"chart-data":t.chartData,options:t.chartOptions}}),s("ul",{staticClass:"beehive-chart-pie-legend"},t._l(t.stats.social_networks,(function(e,a){return s("li",{key:a,staticClass:"beehive-legend-item"},[s("span",{staticClass:"beehive-legend-item-color",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"beehive-legend-item-name"},[s("span",[t._v(t._s(e[0]))]),s("strong",[t._v(t._s(e[1]))])])])})),0)],1)]},proxy:!0}])})},et=[],st={name:"SocialNetworks",props:["stats","loading"],components:{SuiBox:c["a"],PieChart:m["a"]},data:function(){return{chartData:{},chartOptions:{legend:{display:!1},tooltips:{xPadding:15,yPadding:15,backgroundColor:"rgba(51,51,51,0.85)",titleSpacing:0,titleMarginBottom:0,bodyFontColor:"#FFFFFF",bodyFontSize:14,bodyFontFamily:"Roboto",bodyFontStyle:"bold",bodyAlign:"left",cornerRadius:4,displayColors:!1},responsive:!0,maintainAspectRatio:!1}}},watch:{stats:function(t){this.setupChartData()}},computed:{isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0||!this.stats.social_networks}},methods:{setupChartData:function(){if(this.isEmpty)this.chartData={};else{var t=this,e={labels:[],datasets:[{label:"Sessions",data:[],borderWidth:2,borderColor:"#FFFFFF",backgroundColor:[],hoverBorderWidth:"#FFFFFF"}]},s=[],a=[],i=[];Object.keys(t.stats.social_networks).forEach((function(e){s.push(t.stats.social_networks[e][0]),a.push(t.stats.social_networks[e][1]),e%2?i.push("#0582B5"):i.push("#17A8E3")})),e.labels=s,e.datasets[0].data=a,e.datasets[0].backgroundColor=i,this.chartData=e}}}},at=st,it=Object(h["a"])(at,tt,et,!1,null,null,null),nt=it.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"sui-checkbox",class:t.checkboxClass,attrs:{for:t.id}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{type:"checkbox",id:t.id,"aria-labelledby":t.id+"-label"},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t.model},on:{change:[function(e){var s=t.model,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=null,r=t._i(s,n);a.checked?r<0&&(t.model=s.concat([n])):r>-1&&(t.model=s.slice(0,r).concat(s.slice(r+1)))}else t.model=i},t.handleChange]}}),s("span",{attrs:{"aria-hidden":"true"}}),s("span",{attrs:{for:t.id,id:t.id+"-label"}},[t._v(t._s(t.label))])])},ot=[],lt=(s("c975"),{name:"SuiCheckbox",props:{id:{type:String,required:!0},label:{type:String,required:!0},type:{validator:function(t){return-1!==["small","stacked","stacked-sm"].indexOf(t)},default:null},value:Boolean},data:function(){return{model:this.value}},computed:{checkboxClass:function(){return{"sui-checkbox-sm":"small"===this.type,"sui-checkbox-stacked":"stacked"===this.type,"sui-checkbox-stacked sui-checkbox-sm":"stacked-sm"===this.type}}},methods:{handleChange:function(){this.$emit("input",this.model)}}}),ct=lt,dt=Object(h["a"])(ct,rt,ot,!1,null,null,null),ut=dt.exports,ht=s("d5c7"),pt={name:"App",components:{Pages:b,Mediums:C,Visitors:R,Countries:H,SuiHeader:q["a"],SuiCheckbox:ut,SearchEngines:X,SocialNetworks:nt,SuiCalendarRange:ht["a"]},data:function(){return{stats:{},dateStart:this.$vars.dates.start_date,dateEnd:this.$vars.dates.end_date,compare:!1,loading:!1,startDate:this.$vars.dates.start_date,endDate:this.$vars.dates.end_date,selectedDate:this.$vars.dates.selected_label,periods:{current:{from:"",to:""},previous:{from:"",to:""}}}},mounted:function(){this.getStats()},computed:{canGetStats:function(){return this.$moduleVars.can_get_stats>0},showComparison:function(){var t=Object.keys(this.$vars.dates.periods);return t.includes(this.selectedDate)},canCompare:function(){return this.showComparison&&this.compare}},methods:{getStats:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.canGetStats){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,e.next=5,Object(F["a"])({path:"stats/statistics",params:{from:t.startDate,to:t.endDate,network:t.isNetwork()?1:0}}).then((function(e){if(e.success&&e.data&&e.data.stats)if(Object.keys(e.data.stats).length>0?t.stats=e.data.stats:t.stats={},e.data.periods){var s=e.data.periods;t.periods={current:{from:s.current.from,to:s.current.to},previous:{from:s.previous.from,to:s.previous.to}}}else t.periods={current:{from:t.startDate,to:t.endDate},previous:{from:t.startDate,to:t.endDate}};else t.stats={};t.loading=!1}));case 5:case"end":return e.stop()}}),e)})))()},periodChange:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:e.startDate=t.startDate,e.endDate=t.endDate,e.selectedDate=t.seelcted,e.getStats();case 4:case"end":return s.stop()}}),s)})))()},canView:function(t){return Object(N["a"])(t,"statistics")}}},bt=pt,gt=(s("b0da"),Object(h["a"])(bt,i,n,!1,null,null,null)),vt=gt.exports,mt=s("9d51"),ft=s("3f08"),_t=s("e19f");a["a"].config.productionTip=!1,a["a"].mixin({methods:{sprintf:_t["sprintf"],getOption:N["b"],setOption:N["k"],saveOptions:N["j"],isNetwork:N["f"],isMultisite:N["e"],isSubsite:N["h"],isNetworkWide:N["g"],isSuperAdmin:N["i"],isAdmin:N["d"]}}),a["a"].prototype.$i18n=window.beehiveI18n,a["a"].prototype.$vars=window.beehiveVars,a["a"].prototype.$moduleVars=window.beehiveModuleVars,a["a"].use(ft["b"].Plugin),new a["a"]({render:function(t){return t(vt)},store:mt["a"]}).$mount("#beehive-statistics-app")},b0da:function(t,e,s){"use strict";var a=s("ee9b"),i=s.n(a);i.a},ee9b:function(t,e,s){}});