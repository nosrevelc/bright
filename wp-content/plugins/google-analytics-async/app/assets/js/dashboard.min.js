(function(s){function t(t){for(var a,r,o=t[0],d=t[1],l=t[2],c=0,h=[];c<o.length;c++)r=o[c],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&h.push(i[r][0]),i[r]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(s[a]=d[a]);u&&u(t);while(h.length)h.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var s,t=0;t<n.length;t++){for(var e=n[t],a=!0,o=1;o<e.length;o++){var d=e[o];0!==i[d]&&(a=!1)}a&&(n.splice(t--,1),s=r(r.s=e[0]))}return s}var a={},i={dashboard:0},n=[];function r(t){if(a[t])return a[t].exports;var e=a[t]={i:t,l:!1,exports:{}};return s[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=s,r.c=a,r.d=function(s,t,e){r.o(s,t)||Object.defineProperty(s,t,{enumerable:!0,get:e})},r.r=function(s){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.t=function(s,t){if(1&t&&(s=r(s)),8&t)return s;if(4&t&&"object"===typeof s&&s&&s.__esModule)return s;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:s}),2&t&&"string"!=typeof s)for(var a in s)r.d(e,a,function(t){return s[t]}.bind(null,a));return e},r.n=function(s){var t=s&&s.__esModule?function(){return s["default"]}:function(){return s};return r.d(t,"a",t),t},r.o=function(s,t){return Object.prototype.hasOwnProperty.call(s,t)},r.p="/app/assets/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=d;n.push([0,"chunk-vendors","chunk-common"]),e()})({0:function(s,t,e){s.exports=e("20ae")},"07ad":function(s,t,e){},"20ae":function(s,t,e){"use strict";e.r(t);e("e260"),e("e6cf"),e("cca6"),e("a79d");var a=e("2b0e"),i=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"sui-wrap",attrs:{id:"beehive-wrap"}},[e("sui-header",{attrs:{title:s.$i18n.dashboard.titles.dashboard},scopedSlots:s._u([{key:"right",fn:function(){return[e("sui-calendar-range",{attrs:{id:"beehive-stats-datepicker",periods:s.$vars.dates.periods,"start-date":s.$vars.dates.start_date,"end-date":s.$vars.dates.end_date,"selected-label":s.$vars.dates.selected_label},on:{periodChange:s.changePeriod}})]},proxy:!0}])}),e("summary-widget",{attrs:{stats:s.stats.summary,loading:s.loading}}),e("div",{staticClass:"sui-row"},[e("div",{staticClass:"sui-col-md-6"},[e("statistics-widget",{attrs:{stats:s.stats.list,loading:s.loading}})],1),e("div",{staticClass:"sui-col-md-6"},[e("coming-soon-widget")],1)]),e("sui-footer"),s.showOnboarding?e("onboarding-tracking"):s._e(),s.showOnboarding?e("onboarding-account"):s._e(),s.showWelcome?e("welcome-modal"):s._e()],1)},n=[],r=e("7f2d"),o=e("6e06"),d=e("2323"),l=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{class:s.summaryClass},[e("div",{staticClass:"sui-summary-image-space",style:s.reBrandedStyle,attrs:{"aria-hidden":"true"}}),e("div",{staticClass:"sui-summary-segment"},[s.loading?e("p",{staticClass:"beehive-loading-text"},[e("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),s._v(" "+s._s(s.$i18n.dashboard.labels.fetching_data)+" ")]):s._e(),e("div",{staticClass:"sui-summary-details"},[e("span",{staticClass:"sui-summary-large"},[s._v(s._s(s.stats.pageviews.value||"-"))]),e("span",{staticClass:"sui-summary-percent"},[s.pageViewsTrend<0?e("span",{staticClass:"beehive-stats-trend beehive-red"},[e("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),s._v(" "+s._s(Math.abs(s.pageViewsTrend))+"% ")]):s.pageViewsTrend>0?e("span",{staticClass:"beehive-stats-trend beehive-green"},[e("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),s._v(" "+s._s(Math.abs(s.pageViewsTrend))+"% ")]):0===s.pageViewsTrend?e("span",[s._v("0%")]):s._e()]),e("span",{staticClass:"sui-summary-sub"},[s._v(s._s(s.$i18n.dashboard.labels.pageviews))]),e("span",{staticClass:"sui-summary-detail"},[s._v(" "+s._s(s.stats.newUsers.trend||"")+" "),s.newUsersTrend<0?e("span",{staticClass:"beehive-stats-trend beehive-red"},[e("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),s._v(" "+s._s(Math.abs(s.newUsersTrend))+"% ")]):s.newUsersTrend>0?e("span",{staticClass:"beehive-stats-trend beehive-green"},[e("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),s._v(" "+s._s(Math.abs(s.newUsersTrend))+"% ")]):0===s.newUsersTrend?e("span",[s._v("0%")]):s._e()]),e("span",{staticClass:"sui-summary-sub"},[s._v(s._s(s.$i18n.dashboard.labels.new_users))])])]),e("div",{staticClass:"sui-summary-segment"},[e("ul",{staticClass:"sui-list"},[e("li",[e("span",{staticClass:"sui-list-label"},[s._v(s._s(s.$i18n.dashboard.labels.top_page))]),e("span",{staticClass:"sui-list-detail",domProps:{innerHTML:s._s(s.stats.page.anchor||s.$i18n.dashboard.labels.none)}})]),e("li",[e("span",{staticClass:"sui-list-label"},[s._v(s._s(s.$i18n.dashboard.labels.top_search_engine))]),e("span",{staticClass:"sui-list-detail"},[s._v(s._s(s.stats.searchEngine.name||s.$i18n.dashboard.labels.none))])]),e("li",[e("span",{staticClass:"sui-list-label"},[s._v(s._s(s.$i18n.dashboard.labels.top_medium))]),e("span",{staticClass:"sui-list-detail"},[s._v(s._s(s.stats.medium.name||s.$i18n.dashboard.labels.none))])])])])])},u=[],c={name:"SummaryWidget",props:["stats","loading"],computed:{pageViewsTrend:function(){return this.stats.pageviews.trend||""},newUsersTrend:function(){return this.stats.newUsers.trend||""},summaryClass:function(){return{"sui-box":!0,"sui-summary":!0,"sui-unbranded":this.$vars.whitelabel.is_unbranded,"sui-rebranded":this.$vars.whitelabel.is_rebranded,"beehive-loading":this.loading}},reBrandedStyle:function(){if(this.$vars.whitelabel.is_rebranded)return{"background-image":"url("+this.$vars.whitelabel.custom_image+")"}}}},h=c,b=e("2877"),g=Object(b["a"])(h,l,u,!1,null,null,null),m=g.exports,p=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("sui-box",{attrs:{id:"beehive-widget-stats",title:s.$i18n.dashboard.titles.statistics,titleIcon:"graph-line","aria-live":"polite",loading:s.loading},scopedSlots:s._u([{key:"body",fn:function(){return[s.loading?e("p",{staticClass:"beehive-loading-text"},[e("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),s._v(" "+s._s(s.$i18n.dashboard.labels.fetching_data)+" ")]):s._e(),e("p",[s._v(s._s(s.$i18n.dashboard.descriptions.statistics))]),s.isLoggedIn||s.canGetStats?s.isEmpty?e("sui-notice",{attrs:{message:s.$i18n.dashboard.notices.no_data,type:"info"}}):s._e():e("fragment",[s.isNetwork()?e("sui-notice",{attrs:{type:"info",message:s.$i18n.dashboard.notices.auth_required_network}}):e("sui-notice",{attrs:{type:"info",message:s.$i18n.dashboard.notices.auth_required}}),e("a",{staticClass:"sui-button sui-button-blue",attrs:{role:"button",href:s.$vars.urls.settings}},[e("i",{staticClass:"sui-icon-wrench-tool",attrs:{"aria-hidden":"true"}}),s._v(" "+s._s(s.$i18n.dashboard.labels.configure_account)+" ")]),e("a",{staticClass:"sui-button sui-button-ghost",attrs:{role:"button",href:s.$vars.urls.settings}},[s._v(s._s(s.$i18n.dashboard.labels.add_tracking_id))])],1)]},proxy:!0},{key:"outside",fn:function(){return[s.canGetStats&&!s.isEmpty?e("stats-list",{attrs:{stats:s.stats}}):s._e()]},proxy:!0}])})},_=[],v=(e("b64b"),e("e5d1")),f=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("table",{staticClass:"beehive-table"},[e("tbody",s._l(s.stats,(function(t,a){return e("fragment",{key:a},[s.canShow(a)?e("tr",[e("td",{staticClass:"beehive-stats-title"},[s._v(s._s(s.getTitle(a)))]),t.trend<0&&"bounce_rates"===a?e("td",{staticClass:"beehive-stats-trend beehive-green"},[e("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),s._v(" "+s._s(Math.abs(t.trend))+"% ")]):t.trend<0?e("td",{staticClass:"beehive-stats-trend beehive-red"},[e("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),s._v(" "+s._s(Math.abs(t.trend))+"% ")]):t.trend>0&&"bounce_rates"===a?e("td",{staticClass:"beehive-stats-trend beehive-red"},[e("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),s._v(" "+s._s(t.trend)+"% ")]):t.trend>0?e("td",{staticClass:"beehive-stats-trend beehive-green"},[e("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),s._v(" "+s._s(t.trend)+"% ")]):e("td",{staticClass:"beehive-stats-trend"},[s._v("0%")]),e("td",{staticClass:"beehive-stats-value"},"bounce_rates"===a?[s._v(s._s(t.value)+"%")]:[s._v(s._s(t.value))])]):s._e()])})),1),e("tfoot",[e("tr",[e("td",{attrs:{colspan:"5"}},[e("a",{staticClass:"sui-button sui-button-ghost",attrs:{href:s.$vars.urls.statistics}},[e("i",{staticClass:"sui-icon-eye",attrs:{"aria-hidden":"true"}}),s._v(" "+s._s(s.$i18n.dashboard.labels.view_full_report)+" ")])])])])])},w=[],y=e("3f08"),$={name:"StatsList",props:["stats"],components:{Fragment:y["a"]},data:function(){return{titles:{sessions:this.$i18n.dashboard.labels.sessions,users:this.$i18n.dashboard.labels.users,pageviews:this.$i18n.dashboard.labels.pageviews,page_sessions:this.$i18n.dashboard.labels.page_sessions,average_sessions:this.$i18n.dashboard.labels.average_sessions,bounce_rates:this.$i18n.dashboard.labels.bounce_rates}}},computed:{isEmpty:function(){return Object.keys(this.stats).length<=0}},methods:{canShow:function(s){return this.titles.hasOwnProperty(s)},getTitle:function(s){return this.titles[s]}}},C=$,S=Object(b["a"])(C,f,w,!1,null,null,null),O=S.exports,x=e("5659"),k={name:"StatisticsWidget",props:["stats","loading"],components:{SuiBox:v["a"],SuiNotice:x["a"],StatsList:O},computed:{isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},canGetStats:function(){return this.$moduleVars.can_get_stats||this.isLoggedIn},isEmpty:function(){return Object.keys(this.stats).length<=0}},methods:{}},M=k,j=Object(b["a"])(M,p,_,!1,null,null,null),T=j.exports,E=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("sui-box",{attrs:{title:s.$i18n.dashboard.titles.gtm,titleIcon:"gtm",image1x:s.images[1],image2x:s.images[2],imageAlt:s.$i18n.dashboard.labels.coming_soon},scopedSlots:s._u([{key:"headerLeft",fn:function(){return[e("span",{staticClass:"sui-tag sui-tag-beta",staticStyle:{"background-color":"#17A8E3"}},[s._v(s._s(s.$i18n.dashboard.labels.coming_soon))])]},proxy:!0},{key:"body",fn:function(){return[e("p",[s._v(s._s(s.$i18n.dashboard.descriptions.gtm))])]},proxy:!0}])})},I=[],L=e("5b5e"),W={name:"ComingSoonWidget",components:{SuiBox:v["a"]},data:function(){return{images:{1:this.$vars.whitelabel.hide_branding?"":Object(L["c"])("characters/beehive-butterfly.png"),2:this.$vars.whitelabel.hide_branding?"":Object(L["c"])("characters/beehive-butterfly@2x.png")}}}},P=W,U=Object(b["a"])(P,E,I,!1,null,null,null),V=U.exports,N=e("d5c7"),G=function(){var s=this,t=s.$createElement,e=s._self._c||t;return"3.2.5"===s.current?e("welcome-325"):s._e()},A=[],B=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"sui-modal sui-modal-md"},[e("div",{staticClass:"sui-modal-content sui-content-fade-in",attrs:{role:"dialog","aria-modal":"true",id:s.modal,"aria-labelledby":s.modal+"-title","aria-describedby":s.modal+"-desc"}},[e("div",{staticClass:"sui-box"},[e("div",{staticClass:"sui-box-header sui-flatten sui-content-center sui-spacing-top--60"},[e("figure",{staticClass:"sui-box-banner",attrs:{"aria-hidden":"true"}},[e("image-tag",{attrs:{src:"welcome/welcome-3.2.5.png",alt:s.$i18n.onboarding.labels.config_by_role}})],1),e("button",{staticClass:"sui-button-icon sui-button-float--right",attrs:{id:s.modal+"-close"},on:{click:s.dismissModal}},[e("i",{staticClass:"sui-icon-close sui-md",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sui-screen-reader-text"},[s._v(s._s(s.$i18n.dialogs.close))])]),e("h3",{staticClass:"sui-box-title sui-lg",attrs:{id:s.modal+"-title"}},[s._v(s._s(s.$i18n.onboarding.labels.give_settings_access))]),e("p",{staticClass:"sui-description",attrs:{id:s.modal+"-desc"}},[s._v(s._s(s.$i18n.onboarding.descriptions.give_settings_access))])]),e("div",{staticClass:"sui-box-body"},[e("div",{staticClass:"sui-form-field"},[e("h6",{staticClass:"sui-settings-label sui-dark beehive-default-size"},[s._v(s._s(s.$i18n.onboarding.labels.config_by_role))]),e("p",{ref:"settingsLink",staticClass:"sui-description",domProps:{innerHTML:s._s(s.$i18n.onboarding.descriptions.config_by_role)}})])]),e("div",{staticClass:"sui-box-footer sui-flatten sui-content-center sui-spacing-bottom--50"},[e("button",{staticClass:"sui-button",attrs:{type:"button"},on:{click:s.dismissModal}},[s._v(s._s(s.$i18n.onboarding.buttons.got_it))])])])])])},F=[],D=e("cb5b"),H={name:"Welcome325",components:{ImageTag:D["a"]},data:function(){return{modal:"beehive-welcome-325-modal",closeFocus:"beehive-wrap"}},mounted:function(){SUI.modalDialog(),this.openModal()},methods:{dismissModal:function(){this.closeModal(),this.setOption("show_welcome","misc",0),this.saveOptions()},openModal:function(){SUI.openModal(this.modal,this.closeFocus,this.modal+"-close")},closeModal:function(){SUI.closeModal()}}},q=H,J=Object(b["a"])(q,B,F,!1,null,null,null),z=J.exports,R={name:"WelcomeModal",components:{Welcome325:z},data:function(){return{current:"3.2.5"}}},K=R,Q=Object(b["a"])(K,G,A,!1,null,null,null),X=Q.exports,Y=e("1331"),Z=e("3357"),ss={name:"App",components:{SuiHeader:o["a"],SuiFooter:d["a"],WelcomeModal:X,SummaryWidget:m,StatisticsWidget:T,SuiCalendarRange:N["a"],ComingSoonWidget:V,OnboardingAccount:Y["a"],OnboardingTracking:Z["a"]},data:function(){return{loading:!1,periods:[],dateStart:this.$vars.dates.start_date,dateEnd:this.$vars.dates.end_date,stats:{summary:{pageviews:{},page:{},searchEngine:{},medium:{},newUsers:{}},list:{}}}},mounted:function(){this.getSummary()},created:function(){var s=this;this.$root.$on("googleLoggedIn",(function(){s.setOption("google_auth_redirect_success","misc",0),s.$store.dispatch("helpers/updateGoogleLogin",{reInit:!0,status:!0}),s.$store.dispatch("helpers/updateGoogleProfiles",{reInit:!0})})),this.$root.$on("googleLoggedOut",(function(){s.$store.dispatch("helpers/updateGoogleLogin",{reInit:!0,status:!1})})),this.$root.$on("onboardingComplete",(function(t){""!==s.getOption("account_id","google","")&&t&&s.$root.$emit("showTopNotice",{dismiss:!0,message:s.sprintf(s.$i18n.dashboard.notices.account_setup,s.$vars.urls.statistics)}),s.getSummary()}))},computed:{canGetStats:function(){return this.$moduleVars.can_get_stats},isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},showOnboarding:function(){return!this.getOption("onboarding_done","misc")},showWelcome:function(){return!this.showOnboarding&&(this.isMultisite()&&this.isNetworkWide()&&this.isNetwork()?this.getOption("show_welcome","misc",!1,!0):(!this.isMultisite()||!this.isNetworkWide())&&this.getOption("show_welcome","misc"))}},methods:{getSummary:function(){var s=this;(this.canGetStats||this.isLoggedIn)&&(this.loading=!0,Object(r["a"])({path:"stats/summary",params:{from:this.dateStart,to:this.dateEnd,network:this.isNetwork()?1:0}}).then((function(t){t.success&&t.data&&t.data.stats&&t.data.stats.summary&&(s.stats.list=t.data.stats.summary,s.setupSummary(t.data.stats)),s.loading=!1})))},setupSummary:function(s){this.stats.summary={pageviews:s.summary.pageviews,page:s.page,searchEngine:s.search_engine,medium:s.medium,newUsers:s.summary.new_users}},changePeriod:function(s){this.dateStart=s.startDate,this.dateEnd=s.endDate,this.getSummary()}}},ts=ss,es=(e("b005"),Object(b["a"])(ts,i,n,!1,null,null,null)),as=es.exports,is=e("9d51"),ns=e("e19f");a["a"].config.productionTip=!1,a["a"].mixin({methods:{sprintf:ns["sprintf"],getOption:L["b"],setOption:L["k"],saveOptions:L["j"],isNetwork:L["f"],isMultisite:L["e"],isSubsite:L["h"],isNetworkWide:L["g"]}}),a["a"].prototype.$i18n=window.beehiveI18n,a["a"].prototype.$vars=window.beehiveVars,a["a"].prototype.$moduleVars=window.beehiveModuleVars,a["a"].use(y["b"].Plugin),new a["a"]({render:function(s){return s(as)},store:is["a"]}).$mount("#beehive-dashboard-app")},b005:function(s,t,e){"use strict";var a=e("07ad"),i=e.n(a);i.a}});