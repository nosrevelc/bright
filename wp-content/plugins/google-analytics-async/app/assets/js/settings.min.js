(function(t){function s(s){for(var i,o,r=s[0],c=s[1],l=s[2],d=0,p=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(s);while(p.length)p.shift()();return a.push.apply(a,l||[]),e()}function e(){for(var t,s=0;s<a.length;s++){for(var e=a[s],i=!0,r=1;r<e.length;r++){var c=e[r];0!==n[c]&&(i=!1)}i&&(a.splice(s--,1),t=o(o.s=e[0]))}return t}var i={},n={settings:0},a=[];function o(s){if(i[s])return i[s].exports;var e=i[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=i,o.d=function(t,s,e){o.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,s){if(1&s&&(t=o(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var i in t)o.d(e,i,function(s){return t[s]}.bind(null,i));return e},o.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(s,"a",s),s},o.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},o.p="/app/assets/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=s,r=r.slice();for(var l=0;l<r.length;l++)s(r[l]);var u=c;a.push([1,"chunk-vendors","chunk-common"]),e()})({1:function(t,s,e){t.exports=e("9374")},9374:function(t,s,e){"use strict";e.r(s);e("e260"),e("e6cf"),e("cca6"),e("a79d");var i=e("2b0e"),n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-wrap",attrs:{id:"beehive-wrap"}},[e("sui-header",{attrs:{title:t.$i18n.settings.titles.settings},scopedSlots:t._u([{key:"right",fn:function(){return[e("refresh-button")]},proxy:!0}])}),e("div",{staticClass:"sui-row-with-sidenav"},[e("div",{staticClass:"sui-sidenav"},[e("ul",{staticClass:"sui-vertical-tabs sui-sidenav-hide-md"},[e("router-link",{staticClass:"sui-vertical-tab",attrs:{tag:"li",to:"/tracking"}},[e("a",[t._v(t._s(t.$i18n.settings.menus.tracking))])]),e("router-link",{staticClass:"sui-vertical-tab",attrs:{tag:"li",to:"/general",exact:""}},[e("a",[t._v(t._s(t.$i18n.settings.menus.general))])]),t.showPermissions?e("router-link",{staticClass:"sui-vertical-tab",attrs:{tag:"li",to:"/permissions"}},[e("a",[t._v(t._s(t.$i18n.settings.menus.permissions))])]):t._e()],1)]),e("router-view",{on:{saveSettings:t.saveSettings}})],1),e("sui-footer"),t.showOnboarding?e("onboarding-tracking"):t._e(),t.showOnboarding?e("onboarding-account"):t._e()],1)},a=[],o=(e("96cf"),e("1da1")),r=e("6e06"),c=e("2323"),l=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("button",{staticClass:"sui-button sui-button-ghost sui-tooltip",class:{"sui-button-onload-text":t.refreshing},attrs:{type:"button","aria-live":"polite","data-tooltip":t.$i18n.settings.tooltips.refresh},on:{click:t.refreshData}},[e("span",{staticClass:"sui-button-text-default"},[e("i",{staticClass:"sui-icon-refresh",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.settings.buttons.refresh)+" ")]),e("span",{staticClass:"sui-button-text-onload"},[e("i",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.settings.buttons.refreshing)+" ")])])},u=[],d=e("7f2d"),p={name:"RefreshButton",data:function(){return{refreshing:!1}},methods:{refreshData:function(){var t=this;this.refreshing=!0,Object(d["a"])({path:"actions",params:{action:"refresh",network:this.isNetwork()?1:0}}).then((function(s){t.refreshing=!1,s.success&&s.data?t.$root.$emit("showTopNotice",{message:s.data.message}):t.$root.$emit("showTopNotice",{type:"error",message:s.data.message})}))}}},g=p,h=e("2877"),m=Object(h["a"])(g,l,u,!1,null,null,null),b=m.exports,v=e("1331"),_=e("3357"),f={name:"App",components:{SuiHeader:r["a"],SuiFooter:c["a"],RefreshButton:b,OnboardingTracking:_["a"],OnboardingAccount:v["a"]},created:function(){var t=this;this.$root.$on("googleLoggedIn",(function(){t.$store.dispatch("helpers/updateGoogleLogin",{reInit:!0,status:!0}),t.$store.dispatch("helpers/updateGoogleProfiles",{reInit:!0})})),this.$root.$on("googleLoggedOut",(function(){t.$store.dispatch("helpers/updateGoogleLogin",{reInit:!0,status:!1})}))},mounted:function(){this.$store.state.helpers.google.logged_in&&this.$store.dispatch("helpers/updateGoogleApi",{})},computed:{showOnboarding:function(){return!this.getOption("onboarding_done","misc")},showPermissions:function(){return!this.isNetworkWide()||!this.isSubsite()||(this.getOption("overwrite_cap","permissions",!1,!0)||this.getOption("overwrite_settings_cap","permissions",!1,!0))}},methods:{saveSettings:function(t){var s=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.saveOptions();case 2:i=e.sent,i?s.$root.$emit("showTopNotice",{message:t.message||s.$i18n.settings.notices.changes_saved}):s.$root.$emit("showTopNotice",{dimiss:!0,type:"error",message:s.$i18n.settings.notices.changes_failed});case 4:case"end":return e.stop()}}),e)})))()}}},C=f,y=(e("bb5e"),Object(h["a"])(C,n,a,!1,null,null,null)),k=y.exports,$=e("8c4f"),x=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-box"},[e("box-header",{attrs:{title:t.$i18n.settings.titles.settings}}),e("div",{staticClass:"sui-box-body"},[t.canShowAdminTracking?e("admin-tracking"):t._e(),t.canShowAnonymizeIP?e("anonymize-i-p"):t._e(),e("advertising"),t.canShowProSites?e("pro-sites"):t._e()],1),e("box-footer",{attrs:{tab:"general"},on:{formSubmit:t.saveSettings}})],1)},w=[],S=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.isProSitesReady?e("div",{staticClass:"sui-box-settings-row"},[e("div",{staticClass:"sui-box-settings-col-1"},[e("span",{staticClass:"sui-settings-label"},[t._v(t._s(t.$i18n.settings.labels.prosites_settings))]),e("span",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.settings.descriptions.prosites_settings))])]),e("div",{staticClass:"sui-box-settings-col-2"},[e("span",{staticClass:"sui-settings-label"},[t._v(t._s(t.$i18n.settings.labels.analytics_settings))]),e("span",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.settings.descriptions.analytics_settings))]),t._l(t.levels,(function(s,i){return e("label",{key:i,staticClass:"sui-checkbox sui-checkbox-sm",attrs:{for:"beehive-settings-ps-level-"+i}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.psSettings,expression:"psSettings"}],attrs:{type:"checkbox",id:"beehive-settings-ps-level-"+i},domProps:{value:i,checked:Array.isArray(t.psSettings)?t._i(t.psSettings,i)>-1:t.psSettings},on:{change:function(s){var e=t.psSettings,n=s.target,a=!!n.checked;if(Array.isArray(e)){var o=i,r=t._i(e,o);n.checked?r<0&&(t.psSettings=e.concat([o])):r>-1&&(t.psSettings=e.slice(0,r).concat(e.slice(r+1)))}else t.psSettings=a}}}),e("span",{attrs:{"aria-hidden":"true"}}),e("span",[t._v(t._s(s.name))])])})),e("hr"),e("span",{staticClass:"sui-settings-label"},[t._v(t._s(t.$i18n.settings.labels.dashboard_analytics))]),e("span",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.settings.descriptions.dashboard_analytics))]),t._l(t.levels,(function(s,i){return e("label",{key:i,staticClass:"sui-checkbox sui-checkbox-sm",attrs:{for:"beehive-dashboard-ps-level-"+i}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.psDashboard,expression:"psDashboard"}],attrs:{type:"checkbox",id:"beehive-dashboard-ps-level-"+i},domProps:{value:i,checked:Array.isArray(t.psDashboard)?t._i(t.psDashboard,i)>-1:t.psDashboard},on:{change:function(s){var e=t.psDashboard,n=s.target,a=!!n.checked;if(Array.isArray(e)){var o=i,r=t._i(e,o);n.checked?r<0&&(t.psDashboard=e.concat([o])):r>-1&&(t.psDashboard=e.slice(0,r).concat(e.slice(r+1)))}else t.psDashboard=a}}}),e("span",{attrs:{"aria-hidden":"true"}}),e("span",[t._v(t._s(s.name))])])}))],2)]):t._e()},O=[],A=(e("b64b"),{name:"ProSites",data:function(){return{levels:this.$moduleVars.ps_levels||{}}},computed:{psSettings:{get:function(){return this.getOption("prosites_settings_level","general",[],!0)},set:function(t){this.setOption("prosites_settings_level","general",t,!0)}},psDashboard:{get:function(){return this.getOption("prosites_analytics_level","general",[],!0)},set:function(t){this.setOption("prosites_analytics_level","general",t,!0)}},isProSitesReady:function(){return Object.keys(this.levels).length>0}}}),I=A,N=Object(h["a"])(I,S,O,!1,null,null,null),j=N.exports,T=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-box-settings-row"},[e("div",{staticClass:"sui-box-settings-col-1"},[e("span",{staticClass:"sui-settings-label"},[t._v(t._s(t.$i18n.settings.labels.display_ad))]),e("span",{staticClass:"sui-description",domProps:{innerHTML:t._s(t.sprintf(t.$i18n.settings.descriptions.display_ad,"https://support.google.com/analytics/answer/3450482?hl=en&ref_topic=3413645&rd=1"))}})]),e("div",{staticClass:"sui-box-settings-col-2"},[e("label",{staticClass:"sui-toggle",attrs:{for:"beehive-settings-advertising"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.advertising,expression:"advertising"}],attrs:{type:"checkbox",id:"beehive-settings-advertising",value:"1"},domProps:{checked:Array.isArray(t.advertising)?t._i(t.advertising,"1")>-1:t.advertising},on:{change:function(s){var e=t.advertising,i=s.target,n=!!i.checked;if(Array.isArray(e)){var a="1",o=t._i(e,a);i.checked?o<0&&(t.advertising=e.concat([a])):o>-1&&(t.advertising=e.slice(0,o).concat(e.slice(o+1)))}else t.advertising=n}}}),e("span",{staticClass:"sui-toggle-slider"})]),e("label",{staticClass:"sui-toggle-label",attrs:{for:"beehive-settings-advertising"}},[t._v(t._s(t.$i18n.settings.labels.display_ad_enable))]),e("sui-notice",{staticClass:"sui-toggle-content",attrs:{type:"default",message:t.sprintf(t.$i18n.settings.notices.privacy_policy,"https://support.google.com/analytics/answer/2700409")}})],1)])},U=[],P=e("5659"),E={name:"Advertising",components:{SuiNotice:P["a"]},computed:{advertising:{get:function(){return this.getOption("advertising","general")},set:function(t){this.setOption("advertising","general",t)}}}},R=E,z=Object(h["a"])(R,T,U,!1,null,null,null),M=z.exports,D=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-box-settings-row"},[e("div",{staticClass:"sui-box-settings-col-1"},[e("span",{staticClass:"sui-settings-label"},[t._v(t._s(t.$i18n.settings.labels.ip_anonymization))]),e("span",{staticClass:"sui-description",domProps:{innerHTML:t._s(t.sprintf(t.$i18n.settings.descriptions.ip_anonymization,"https://support.google.com/analytics/answer/2763052?hl=en"))}})]),e("div",{staticClass:"sui-box-settings-col-2"},[e("label",{staticClass:"sui-toggle",attrs:{for:"beehive-settings-anonymize"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.anonymizeIP,expression:"anonymizeIP"}],attrs:{type:"checkbox",id:"beehive-settings-anonymize",value:"1","aria-controls":"beehive-settings-anonymize-content"},domProps:{checked:Array.isArray(t.anonymizeIP)?t._i(t.anonymizeIP,"1")>-1:t.anonymizeIP},on:{change:function(s){var e=t.anonymizeIP,i=s.target,n=!!i.checked;if(Array.isArray(e)){var a="1",o=t._i(e,a);i.checked?o<0&&(t.anonymizeIP=e.concat([a])):o>-1&&(t.anonymizeIP=e.slice(0,o).concat(e.slice(o+1)))}else t.anonymizeIP=n}}}),e("span",{staticClass:"sui-toggle-slider"})]),e("label",{staticClass:"sui-toggle-label",attrs:{for:"beehive-settings-anonymize"}},[t._v(t._s(t.$i18n.settings.labels.ip_anonymization_enable))]),t.showForceOption?e("div",{staticClass:"sui-border-frame sui-toggle-content",attrs:{tabindex:"0",id:"beehive-settings-anonymize-content","aria-label":t.$i18n.settings.labels.ip_anonymization_force}},[e("label",{staticClass:"sui-label",attrs:{for:"beehive-settings-force-anonymize"}},[t._v(t._s(t.$i18n.settings.labels.ip_anonymization_force_network))]),e("label",{staticClass:"sui-checkbox sui-checkbox-sm",attrs:{for:"beehive-settings-force-anonymize"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.forceAnonymize,expression:"forceAnonymize"}],attrs:{type:"checkbox",id:"beehive-settings-force-anonymize",value:"1"},domProps:{checked:Array.isArray(t.forceAnonymize)?t._i(t.forceAnonymize,"1")>-1:t.forceAnonymize},on:{change:function(s){var e=t.forceAnonymize,i=s.target,n=!!i.checked;if(Array.isArray(e)){var a="1",o=t._i(e,a);i.checked?o<0&&(t.forceAnonymize=e.concat([a])):o>-1&&(t.forceAnonymize=e.slice(0,o).concat(e.slice(o+1)))}else t.forceAnonymize=n}}}),e("span",{attrs:{"aria-hidden":"true"}}),e("span",[t._v(t._s(t.$i18n.settings.labels.ip_anonymization_force_subsite))])])]):t._e()])])},F=[],B={name:"AnonymizeIP",computed:{anonymizeIP:{get:function(){return this.getOption("anonymize","general")},set:function(t){this.setOption("anonymize","general",t)}},forceAnonymize:{get:function(){return this.getOption("force_anonymize","general")},set:function(t){this.setOption("force_anonymize","general",t)}},showForceOption:function(){return this.isNetwork()&&this.anonymizeIP}}},L=B,V=Object(h["a"])(L,D,F,!1,null,null,null),q=V.exports,H=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-box-footer"},[e("div",{staticClass:"sui-actions-right"},[e("button",{staticClass:"sui-button sui-button-blue",class:t.loadingClass,attrs:{type:"button","aria-live":"polite",disabled:t.disableSubmit},on:{click:t.submitHandler}},[e("span",{staticClass:"sui-button-text-default"},[e("i",{staticClass:"sui-icon-save",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.saveButtonText)+" ")]),e("span",{staticClass:"sui-button-text-onload"},[e("i",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.savingButtonText)+" ")])])])])},G=[],W={name:"BoxFooter",props:{saveText:{type:String},savingText:{type:String},submitMessage:{type:String},tab:{type:String,required:!0},disableSubmit:{type:Boolean,default:!1}},data:function(){return{processing:!1}},computed:{loadingClass:function(){return{"sui-button-onload-text":this.processing}},saveButtonText:function(){return this.saveText||this.$i18n.settings.buttons.save_changes},savingButtonText:function(){return this.savingText||this.$i18n.settings.buttons.saving_changes}},methods:{submitHandler:function(){this.$emit("formSubmit",this.tab)}}},Q=W,J=Object(h["a"])(Q,H,G,!1,null,null,null),X=J.exports,K=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-box-header"},[e("h2",{staticClass:"sui-box-title"},[t._v(t._s(t.title))])])},Y=[],Z={name:"BoxHeader",props:{title:{type:String,required:!0}},computed:{}},tt=Z,st=Object(h["a"])(tt,K,Y,!1,null,null,null),et=st.exports,it=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-box-settings-row"},[e("div",{staticClass:"sui-box-settings-col-1"},[e("span",{staticClass:"sui-settings-label"},[t._v(t._s(t.$i18n.settings.labels.admin_tracking))]),e("span",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.settings.descriptions.admin_tracking))])]),e("div",{staticClass:"sui-box-settings-col-2"},[e("label",{staticClass:"sui-toggle",attrs:{for:"beehive-settings-track-admin"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.trackAdmin,expression:"trackAdmin"}],attrs:{type:"checkbox",id:"beehive-settings-track-admin",value:"1"},domProps:{checked:Array.isArray(t.trackAdmin)?t._i(t.trackAdmin,"1")>-1:t.trackAdmin},on:{change:function(s){var e=t.trackAdmin,i=s.target,n=!!i.checked;if(Array.isArray(e)){var a="1",o=t._i(e,a);i.checked?o<0&&(t.trackAdmin=e.concat([a])):o>-1&&(t.trackAdmin=e.slice(0,o).concat(e.slice(o+1)))}else t.trackAdmin=n}}}),e("span",{staticClass:"sui-toggle-slider"})]),e("label",{staticClass:"sui-toggle-label",attrs:{for:"beehive-settings-track-admin"}},[t._v(t._s(t.$i18n.settings.labels.admin_tracking_enable))])])])},nt=[],at={name:"AdminTracking",computed:{trackAdmin:{get:function(){return this.getOption("track_admin","general")},set:function(t){this.setOption("track_admin","general",t)}}},mounted:function(){SUI.notice()}},ot=at,rt=Object(h["a"])(ot,it,nt,!1,null,null,null),ct=rt.exports,lt={name:"General",components:{ProSites:j,BoxHeader:et,BoxFooter:X,AnonymizeIP:q,Advertising:M,AdminTracking:ct},computed:{canShowAdminTracking:function(){return this.isNetwork()||!this.isMultisite()},canShowAnonymizeIP:function(){return!(this.isNetworkWide()&&!this.isNetwork()&&this.getOption("anonymize","general",!1,!0)&&this.getOption("force_anonymize","general",!1,!0))},canShowProSites:function(){return this.isNetwork()&&this.isMultisite()}},methods:{saveSettings:function(t){"general"===t&&this.$emit("saveSettings",{})}}},ut=lt,dt=Object(h["a"])(ut,x,w,!1,null,null,null),pt=dt.exports,gt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-box"},[e("box-header",{attrs:{title:t.$i18n.settings.titles.tracking}}),e("div",{staticClass:"sui-box-body"},[e("div",{staticClass:"sui-box-settings-row"},[e("div",{staticClass:"sui-box-settings-col-2"},[t.isSubsite()?e("p",[t._v(" "+t._s(t.$i18n.settings.descriptions.tracking_subsite)+" ")]):e("p",[t._v(t._s(t.$i18n.settings.descriptions.tracking))]),t.showAccountTrackingNotice?e("sui-notice",{attrs:{type:"info",message:t.sprintf(t.$i18n.settings.notices.account_setup_both,t.$vars.urls.statistics)}}):t.showAccountNotice?e("sui-notice",{attrs:{type:"info",message:t.sprintf(t.$i18n.settings.notices.account_setup_login,t.$vars.urls.statistics)}}):t.showTrackingNotice?e("sui-notice",{attrs:{type:"info",message:t.sprintf(t.$i18n.settings.notices.account_setup_tracking,"&#60;head&#62;",t.$vars.urls.statistics)}}):t._e()],1)]),e("google-account"),e("tracking-id",{attrs:{error:t.showError},on:{validation:t.onValidation}})],1),e("box-footer",{attrs:{tab:"tracking"},on:{formSubmit:t.saveSettings}})],1)},ht=[],mt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-box-settings-row"},[e("div",{staticClass:"sui-box-settings-col-1"},[t.isNetwork()?e("span",{staticClass:"sui-settings-label"},[t._v(t._s(t.$i18n.settings.labels.network_tracking))]):e("span",{staticClass:"sui-settings-label"},[t._v(t._s(t.$i18n.settings.labels.tracking_statistics))]),t.isNetwork()?e("span",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.settings.descriptions.network_tracking))]):e("span",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.settings.descriptions.tracking_statistics))])]),t.showAutomatic?e("automatic-input"):e("manual-input",{attrs:{error:t.error},on:{validation:t.validationHandler}})],1)},bt=[],vt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-box-settings-col-2"},[e("div",{staticClass:"sui-form-field beehive-margin-bottom--10",class:{"sui-form-field-error":t.error}},[e("label",{staticClass:"sui-label",attrs:{for:"beehive-settings-tracking-code-manual"}},[t._v(t._s(t.$i18n.settings.labels.tracking_id))]),e("tracking-id",{attrs:{id:"beehive-settings-tracking-code-manual",context:"settings"},on:{validation:t.onValidation},model:{value:t.trackingId,callback:function(s){t.trackingId=s},expression:"trackingId"}}),e("span",{staticClass:"sui-description",domProps:{innerHTML:t._s(t.getDescription)}})],1),t.error?e("sui-notice",{attrs:{type:"error",message:t.sprintf(t.$i18n.settings.notices.invalid_tracking_id,"https://support.google.com/analytics/answer/1032385?rd=1")}}):t._e()],1)},_t=[],ft=e("b440"),Ct={name:"ManualInput",components:{SuiNotice:P["a"],TrackingId:ft["a"]},props:{error:{type:Boolean,default:!1}},computed:{trackingId:{get:function(){return this.getOption("code","tracking","")},set:function(t){this.setOption("code","tracking",t)}},getDescription:function(){var t=this.sprintf(this.$i18n.settings.descriptions.tracking_id_help,"https://support.google.com/analytics/answer/1032385?rd=1"),s=this.$i18n.settings.descriptions.tracking_id_inherited,e=this.getOption("code","tracking",""),i=this.getOption("code","tracking","",!0),n=this.getOption("auto_track","misc","",!0),a=this.getOption("auto_track","google",!1,!0);return e||!this.isSubsite()||!this.isNetworkWide()||this.isNetwork()?t:i||a&&n?s:t}},methods:{onValidation:function(t){this.$emit("validation",t)}}},yt=Ct,kt=Object(h["a"])(yt,vt,_t,!1,null,null,null),$t=kt.exports,xt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-box-settings-col-2"},[e("div",{staticClass:"sui-form-field beehive-margin-bottom--10"},[e("label",{staticClass:"sui-label",attrs:{for:"beehive-settings-tracking-code-auto"}},[t._v(" "+t._s(t.$i18n.settings.labels.tracking_id)+" "),e("span",{staticClass:"beehive-icon-tooltip sui-tooltip sui-tooltip-constrained",attrs:{"data-tooltip":t.$i18n.settings.tooltips.tracking_only}},[e("i",{staticClass:"sui-icon-info",attrs:{"aria-hidden":"true"}})]),e("a",{staticClass:"sui-label-link",attrs:{role:"button",href:"#"},on:{click:t.showManualForm}},[t._v(t._s(t.$i18n.settings.labels.use_different_tracking))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.trackingId,expression:"trackingId"}],staticClass:"sui-form-control",attrs:{type:"text",id:"beehive-settings-tracking-code-auto",placeholder:t.$i18n.settings.placeholders.tracking_id,disabled:""},domProps:{value:t.trackingId},on:{input:function(s){s.target.composing||(t.trackingId=s.target.value)}}})]),e("sui-notice",{attrs:{type:"info",message:t.sprintf(t.$i18n.settings.notices.automatic_tracking_enabled,"<",">")}})],1)},wt=[],St={name:"AutomaticInput",components:{SuiNotice:P["a"]},computed:{trackingId:{get:function(){return this.getOption("auto_track","misc","")},set:function(t){this.setOption("auto_track","misc",t)}}},methods:{showManualForm:function(t){t.preventDefault(),this.setOption("auto_track","google",!1)}}},Ot=St,At=Object(h["a"])(Ot,xt,wt,!1,null,null,null),It=At.exports,Nt={name:"TrackingId",components:{AutomaticInput:It,ManualInput:$t},props:{error:{type:Boolean,default:!1}},computed:{showAutomatic:function(){var t=this.getOption("account_id","google"),s=this.getOption("auto_track","google"),e=this.getOption("auto_track","misc");return t&&s&&e&&this.isLoggedIn},isLoggedIn:function(){return this.$store.state.helpers.google.logged_in}},methods:{validationHandler:function(t){this.$emit("validation",t)}}},jt=Nt,Tt=Object(h["a"])(jt,mt,bt,!1,null,null,null),Ut=Tt.exports,Pt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-box-settings-row"},[e("div",{staticClass:"sui-box-settings-col-1"},[e("span",{staticClass:"sui-settings-label"},[t._v(t._s(t.$i18n.settings.labels.account))]),t.isNetwork()?e("span",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.settings.descriptions.account_network))]):t.isSubsite()?e("span",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.settings.descriptions.account_subsite))]):e("span",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.settings.descriptions.account_single))])]),e("div",{staticClass:"sui-box-settings-col-2"},[t.isApiUp?t._e():e("sui-notice",{attrs:{type:"error",message:t.apiErrorMessage}}),t.isLoggedIn?e("account-data"):e("account-form")],1)])},Et=[],Rt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("fragment",[e("info-bar"),e("account-selection"),e("logout-modal"),e("switch-modal")],1)},zt=[],Mt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("fragment",[e("label",{staticClass:"sui-label"},[t._v(t._s(t.$i18n.settings.tooltips.connected_account))]),e("div",{staticClass:"sui-border-frame google-account-overview"},[e("div",{staticClass:"sui-box-builder sui-flushed"},[e("div",{staticClass:"sui-builder-fields"},[e("div",{staticClass:"sui-builder-field"},[e("div",{staticClass:"sui-builder-field-label"},[t.userPhoto?e("span",{staticClass:"beehive-google-user-photo"},[e("img",{attrs:{src:t.userPhoto,alt:t.userName}})]):t._e(),e("span",[e("span",{staticClass:"beehive-google-user-name"},[t._v(t._s(t.userName))]),e("span",{staticClass:"beehive-google-user-email"},[t._v(t._s(t.userEmail))])])]),e("div",{staticClass:"sui-dropdown"},[e("button",{staticClass:"sui-button-icon sui-dropdown-anchor"},[e("i",{staticClass:"sui-icon-widget-settings-config",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sui-screen-reader-text"},[t._v(t._s(t.$i18n.settings.buttons.open_options))])]),e("ul",[e("li",[e("button",{attrs:{type:"button",id:"google-switch-user","data-modal-open":"beehive-google-switch-confirm"}},[e("i",{staticClass:"sui-icon-update",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.settings.labels.switch_profile)+" ")])]),e("li",[e("button",{attrs:{type:"button",id:"google-logout-user","data-modal-open":"beehive-google-logout-confirm"}},[e("i",{staticClass:"sui-icon-logout",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.settings.labels.logout)+" ")])])])])])])])])])},Dt=[],Ft={name:"InfoBar",computed:{userName:function(){var t=this.getOption("name","google_login","");return t||this.$i18n.settings.labels.no_account_info},userEmail:function(){return this.getOption("email","google_login","")},userPhoto:function(){return this.getOption("photo","google_login","")}}},Bt=Ft,Lt=Object(h["a"])(Bt,Mt,Dt,!1,null,null,null),Vt=Lt.exports,qt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-modal sui-modal-sm"},[e("div",{staticClass:"sui-modal-content sui-content-fade-out",attrs:{role:"dialog",id:"beehive-google-logout-confirm","aria-modal":"true","aria-labelledby":"beehive-google-logout-confirm-title","aria-describedby":"beehive-google-logout-confirm-description"}},[e("div",{staticClass:"sui-box"},[e("div",{staticClass:"sui-box-header sui-flatten sui-content-center sui-spacing-top--60"},[e("button",{staticClass:"sui-button-icon sui-button-float--right",attrs:{"data-modal-close":""}},[e("i",{staticClass:"sui-icon-close sui-md",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sui-screen-reader-text"},[t._v(t._s(t.$i18n.dialogs.close))])]),e("h3",{staticClass:"sui-box-title sui-lg",attrs:{id:"beehive-google-logout-confirm-title"}},[t._v(t._s(t.$i18n.settings.labels.logout))]),e("p",{staticClass:"sui-description",attrs:{id:"beehive-google-logout-confirm-description"}},[t._v(" "+t._s(t.$i18n.settings.descriptions.logout_first)+" "),e("br"),t._v(" "+t._s(t.$i18n.settings.descriptions.logout_second)+" ")])]),e("div",{staticClass:"sui-box-footer sui-flatten sui-content-center"},[e("button",{staticClass:"sui-button sui-button-ghost",attrs:{"data-modal-close":""}},[t._v(t._s(t.$i18n.dialogs.cancel))]),e("button",{staticClass:"sui-button sui-button-red",class:t.buttonClass,attrs:{type:"button","aria-live":"polite"},on:{click:t.logoutAccount}},[e("span",{staticClass:"sui-button-text-default"},[e("i",{staticClass:"sui-icon-logout",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.settings.labels.logout)+" ")]),e("span",{staticClass:"sui-button-text-onload"},[e("i",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.settings.buttons.logging_out)+" ")])])])])])])},Ht=[],Gt={name:"LogoutModal",data:function(){return{processing:!1}},mounted:function(){SUI.modalDialog()},computed:{buttonClass:function(){return{"sui-button-ghost":!this.processing,"sui-button-onload-text":this.processing}}},methods:{logoutAccount:function(){var t=this;this.processing=!0,Object(d["a"])({path:"auth/logout",params:{network:this.isNetwork()?1:0}}).then((function(s){t.$root.$emit("googleLoggedOut"),t.processing=!1,t.closeModal(),s.success&&t.$root.$emit("showTopNotice",{message:t.$i18n.settings.notices.logged_out})}))},closeModal:function(){SUI.closeModal(),document.body.parentNode.classList.remove("sui-has-modal")}}},Wt=Gt,Qt=Object(h["a"])(Wt,qt,Ht,!1,null,null,null),Jt=Qt.exports,Xt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-modal sui-modal-sm"},[e("div",{staticClass:"sui-modal-content sui-content-fade-out",attrs:{role:"dialog",id:"beehive-google-switch-confirm","aria-modal":"true","aria-labelledby":"beehive-google-switch-confirm-title","aria-describedby":"beehive-google-switch-confirm-description"}},[e("div",{staticClass:"sui-box"},[e("div",{staticClass:"sui-box-header sui-flatten sui-content-center sui-spacing-top--60"},[e("button",{staticClass:"sui-button-icon sui-button-float--right",attrs:{"data-modal-close":""}},[e("i",{staticClass:"sui-icon-close sui-md",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sui-screen-reader-text"},[t._v(t._s(t.$i18n.dialogs.close))])]),e("h3",{staticClass:"sui-box-title sui-lg",attrs:{id:"beehive-google-switch-confirm-title"}},[t._v(t._s(t.$i18n.settings.labels.switch_profile))]),e("p",{staticClass:"sui-description",attrs:{id:"beehive-google-switch-confirm-description"}},[t._v(" "+t._s(t.$i18n.settings.descriptions.switch_one)+" "),e("br"),t._v(" "+t._s(t.$i18n.settings.descriptions.switch_second)+" ")])]),e("div",{staticClass:"sui-box-footer sui-flatten sui-content-center"},[e("button",{staticClass:"sui-button sui-button-ghost",attrs:{"data-modal-close":""}},[t._v(t._s(t.$i18n.dialogs.cancel))]),e("button",{staticClass:"sui-button",class:t.buttonClass,attrs:{type:"button","aria-live":"polite"},on:{click:t.switchAccount}},[e("span",{staticClass:"sui-button-text-default"},[e("i",{staticClass:"sui-icon-logout",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.settings.labels.switch_profile)+" ")]),e("span",{staticClass:"sui-button-text-onload"},[e("i",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.settings.buttons.logging_out)+" ")])])])])])])},Kt=[],Yt={name:"SwitchModal",data:function(){return{processing:!1}},mounted:function(){SUI.modalDialog()},computed:{buttonClass:function(){return{"sui-button-ghost":!this.processing,"sui-button-onload-text":this.processing}}},methods:{switchAccount:function(){var t=this;this.processing=!0,Object(d["a"])({path:"auth/logout",params:{network:this.isNetwork()?1:0}}).then((function(s){t.$root.$emit("googleLoggedOut"),t.processing=!1,t.closeModal(),s.success&&t.$root.$emit("showTopNotice",{message:t.$i18n.settings.notices.logged_out})}))},closeModal:function(){SUI.closeModal(),document.body.parentNode.classList.remove("sui-has-modal")}}},Zt=Yt,ts=Object(h["a"])(Zt,Xt,Kt,!1,null,null,null),ss=ts.exports,es=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-border-frame google-account-selector"},[e("google-accounts",{attrs:{id:"beehive-settings-google-account-id",label:t.$i18n.settings.labels.choose_account,description:t.$i18n.settings.descriptions.account_not_here}}),t.showAutoTrack?e("div",{staticClass:"sui-form-field"},[e("label",{staticClass:"sui-checkbox sui-checkbox-sm",attrs:{for:"beehive-settings-google-auto-track"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.autoTrack,expression:"autoTrack"}],attrs:{type:"checkbox",id:"beehive-settings-google-auto-track",value:"1"},domProps:{checked:Array.isArray(t.autoTrack)?t._i(t.autoTrack,"1")>-1:t.autoTrack},on:{change:function(s){var e=t.autoTrack,i=s.target,n=!!i.checked;if(Array.isArray(e)){var a="1",o=t._i(e,a);i.checked?o<0&&(t.autoTrack=e.concat([a])):o>-1&&(t.autoTrack=e.slice(0,o).concat(e.slice(o+1)))}else t.autoTrack=n}}}),e("span",{attrs:{"aria-hidden":"true"}}),e("span",[t._v(" "+t._s(t.$i18n.settings.labels.auto_detect_id)+" "),e("span",{staticClass:"sui-tooltip sui-tooltip-constrained",attrs:{"data-tooltip":t.$i18n.settings.tooltips.tracking_id}},[e("i",{staticClass:"sui-icon-info",attrs:{"aria-hidden":"true"}})])])])]):t._e()],1)},is=[],ns=e("fe3c"),as={name:"AccountSelection",components:{GoogleAccounts:ns["a"]},computed:{autoTrack:{get:function(){return this.getOption("auto_track","google")},set:function(t){this.setOption("auto_track","google",t)}},showAutoTrack:function(){var t=this.getOption("auto_track","misc");return t&&""!==t}}},os=as,rs=Object(h["a"])(os,es,is,!1,null,null,null),cs=rs.exports,ls={name:"AccountData",components:{InfoBar:Vt,SwitchModal:ss,LogoutModal:Jt,AccountSelection:cs}},us=ls,ds=Object(h["a"])(us,Rt,zt,!1,null,null,null),ps=ds.exports,gs=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("fragment",[t.showSimpleConnect?e("div",{staticClass:"beehive-google-setup-connect"},[e("div",{staticClass:"sui-form-field"},[e("sui-notice",{attrs:{type:"info",message:t.sprintf(t.$i18n.settings.notices.google_already_connected,t.$vars.urls.statistics)}}),e("a",{staticClass:"sui-button sui-button-lg beehive-connect-google-btn",attrs:{type:"button",href:t.$moduleVars.google.login_url}},[e("i",{staticClass:"sui-icon-google-connect",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.settings.labels.connect_google)+" ")])],1)]):e("div",{staticClass:"sui-side-tabs sui-tabs"},[e("div",{attrs:{"data-tabs":""}},[e("div",{staticClass:"active"},[t._v(t._s(t.$i18n.settings.labels.connect_google))]),e("div",[t._v(t._s(t.$i18n.settings.labels.google_api))])]),e("div",{attrs:{"data-panes":""}},[e("div",{staticClass:"sui-tab-boxed beehive-google-setup-connect active"},[e("google-connect",{attrs:{context:"settings"}})],1),e("div",{staticClass:"sui-tab-boxed"},[e("google-api",{attrs:{context:"settings"}})],1)])])])},hs=[],ms=e("5385"),bs=e("f268"),vs={name:"AccountForm",components:{GoogleConnect:bs["a"],GoogleApi:ms["a"],SuiNotice:P["a"]},mounted:function(){SUI.suiTabs()},created:function(){var t=this;this.$root.$on("googleConnectProcessed",(function(s){"settings"===s.context&&"simple"===s.type?s.success?t.showConnectSuccess():t.showConnectError():"settings"!==s.context||"api"!==s.type||s.success||t.showApiError()}))},computed:{showSimpleConnect:function(){if(!this.$moduleVars.google)return!1;var t=this.$moduleVars.google.network_setup,s=this.$moduleVars.google.network_logged_in,e=this.$moduleVars.google.network_login_method;return this.isMultisite()&&this.isSubsite()&&t&&s&&"api"===e}},methods:{showApiError:function(){this.$root.$emit("showTopNotice",{type:"error",dismiss:!0,message:this.sprintf(this.$i18n.settings.notices.google_api_error,"https://premium.wpmudev.org/docs/wpmu-dev-plugins/beehive/#set-up-api-project","https://premium.wpmudev.org/get-support/")})},showConnectSuccess:function(){this.$root.$emit("showTopNotice",{dismiss:!0,message:this.$i18n.settings.notices.google_connect_error})},showConnectError:function(){this.$root.$emit("showTopNotice",{type:"error",dismiss:!0,message:this.sprintf(this.$i18n.settings.notices.google_connect_success,"https://premium.wpmudev.org/docs/wpmu-dev-plugins/beehive/#set-up-api-project","https://premium.wpmudev.org/get-support/")})}}},_s=vs,fs=Object(h["a"])(_s,gs,hs,!1,null,null,null),Cs=fs.exports,ys={name:"GoogleAccount",components:{AccountData:ps,AccountForm:Cs,SuiNotice:P["a"]},mounted:function(){this.showSuccessMessage()},computed:{isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},isApiUp:function(){return this.$store.state.helpers.googleApi.status},apiErrorMessage:function(){return this.$store.state.helpers.googleApi.error}},methods:{showSuccessMessage:function(){this.getOption("google_auth_redirect_success","misc")&&(this.setOption("google_auth_redirect_success","misc",0),this.saveOptions(),this.$root.$emit("showTopNotice",{dismiss:!0,message:this.$i18n.settings.notices.google_account_success}))}}},ks=ys,$s=Object(h["a"])(ks,Pt,Et,!1,null,null,null),xs=$s.exports,ws={name:"Tracking",components:{SuiNotice:P["a"],BoxHeader:et,BoxFooter:X,TrackingId:Ut,GoogleAccount:xs},data:function(){return{valid:!0,showError:!1,initialAccount:this.getOption("account_id","google","")}},computed:{accountChanged:function(){var t=!1,s=this.getOption("account_id","google","");return""!==s&&(t=this.initialAccount!==s,this.initialAccount=s),t},submitMessageText:function(){return this.accountChanged?this.sprintf(this.$i18n.settings.notices.account_setup,this.$vars.urls.statistics):this.$i18n.settings.notices.changes_saved},showAccountTrackingNotice:function(){return this.showAccountNotice&&this.showTrackingNotice},showAccountNotice:function(){var t=this.getOption("account_id","google",""),s=this.$store.state.helpers.google.logged_in;return s&&""!==t},showTrackingNotice:function(){var t=this.getOption("code","tracking",""),s=this.getOption("auto_track","google"),e=this.getOption("auto_track","misc","");return""!==t||s&&""!==e}},methods:{saveSettings:function(t){"tracking"===t&&(this.valid?(this.showError=!1,this.$emit("saveSettings",{message:this.submitMessageText})):this.showError=!0)},onValidation:function(t){this.valid=t.valid,this.valid&&(this.showError=!1)}}},Ss=ws,Os=Object(h["a"])(Ss,gt,ht,!1,null,null,null),As=Os.exports,Is=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-box",attrs:{id:"beehive-settings-permissions"}},[e("box-header",{attrs:{title:t.$i18n.settings.titles.permissions}}),e("div",{staticClass:"sui-box-body"},[t.canShowStats?e("div",{staticClass:"sui-box-settings-row",attrs:{id:"beehive-settings-permissions-statistics"}},[e("div",{staticClass:"sui-box-settings-col-1"},[e("span",{staticClass:"sui-settings-label"},[t._v(t._s(t.$i18n.settings.labels.statistics))]),e("span",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.settings.descriptions.statistics))])]),e("div",{staticClass:"sui-box-settings-col-2"},[e("div",{staticClass:"sui-side-tabs sui-tabs"},[e("div",{attrs:{"data-tabs":""}},[e("div",{staticClass:"active",attrs:{id:"permissions-roles-stats"}},[t._v(t._s(t.$i18n.settings.labels.roles))]),e("div",{attrs:{id:"permissions-capabilities-stats"}},[t._v(t._s(t.$i18n.settings.labels.capabilities))])]),e("div",{attrs:{"data-panes":""}},[e("div",{staticClass:"active"},[e("statistics-roles")],1),e("div",{staticClass:"sui-tab-boxed"},[e("statistics-capability")],1)])]),t.isNetwork()?e("override-settings",{attrs:{id:"permissions-statistics-roles-override",label:t.$i18n.settings.labels.override_permissions},model:{value:t.overwriteStatsCap,callback:function(s){t.overwriteStatsCap=s},expression:"overwriteStatsCap"}}):t._e()],1)]):t._e(),t.canShowSettings?e("div",{staticClass:"sui-box-settings-row"},[e("div",{staticClass:"sui-box-settings-col-1"},[e("span",{staticClass:"sui-settings-label"},[t._v(t._s(t.$i18n.settings.labels.settings))]),t.isMultisite()?e("span",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.settings.descriptions.settings_network))]):e("span",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.settings.descriptions.settings))])]),e("div",{staticClass:"sui-box-settings-col-2"},[e("div",{staticClass:"sui-tabs sui-tabs-overflow"},[e("div",{staticClass:"sui-tabs-menu",attrs:{role:"tablist"}},[e("button",{staticClass:"sui-tab-item active",attrs:{type:"button",role:"tab",id:"permissions-settings-roles-tab","aria-controls":"permissions-settings-roles-tab-content","aria-selected":"true"}},[t._v(t._s(t.$i18n.settings.labels.user_role))]),e("button",{staticClass:"sui-tab-item",attrs:{type:"button",role:"tab",id:"permissions-settings-users-tab","aria-controls":"permissions-settings-users-tab-content","aria-selected":"false",tabindex:"-1"}},[t._v(t._s(t.$i18n.settings.labels.custom_users))])]),e("div",{class:t.tabsContentClass},[e("div",{staticClass:"sui-tab-content active",attrs:{role:"tabpanel",tabindex:"0",id:"permissions-settings-roles-tab-content","aria-labelledby":"permissions-settings-roles-tab"}},[e("p",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.settings.descriptions.user_role))]),e("p",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.settings.descriptions.user_role_second))]),e("settings-roles")],1),e("div",{staticClass:"sui-tab-content",attrs:{role:"tabpanel",tabindex:"0",id:"permissions-settings-users-tab-content","aria-labelledby":"permissions-settings-users-tab",hidden:""}},[e("p",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.settings.descriptions.custom_users))]),e("settings-users")],1)])]),t.isNetwork()?e("override-settings",{attrs:{id:"permissions-settings-roles-override",label:t.$i18n.settings.labels.override_permissions},model:{value:t.overwriteSettingsCap,callback:function(s){t.overwriteSettingsCap=s},expression:"overwriteSettingsCap"}}):t._e()],1)]):t._e()]),e("box-footer",{attrs:{tab:"permissions"},on:{formSubmit:t.saveSettings}}),e("users-form")],1)},Ns=[],js=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-modal sui-modal-sm"},[e("div",{staticClass:"sui-modal-content sui-content-fade-in",attrs:{role:"dialog","aria-modal":"true",id:t.modal,"aria-labelledby":t.modal+"-title","aria-describedby":t.modal+"-desc"}},[e("div",{staticClass:"sui-box"},[e("div",{staticClass:"sui-box-header sui-flatten sui-content-center sui-spacing-top--60"},[e("button",{staticClass:"sui-button-icon sui-button-float--right",attrs:{id:t.modal+"-close"},on:{click:t.closeModal}},[e("i",{staticClass:"sui-icon-close sui-md",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sui-screen-reader-text"},[t._v(t._s(t.$i18n.dialogs.close))])]),e("h3",{staticClass:"sui-box-title sui-lg",attrs:{id:t.modal+"-title"}},[t._v(t._s(t.$i18n.settings.titles.add_user))]),e("p",{staticClass:"sui-description",attrs:{id:t.modal+"-desc"}},[t._v(t._s(t.$i18n.settings.descriptions.add_user))])]),e("div",{staticClass:"sui-box-body"},[e("div",{staticClass:"sui-form-field"},[e("label",{staticClass:"sui-label",attrs:{for:t.modal+"-search",id:t.modal+"-search-label"}},[t._v(t._s(t.$i18n.settings.labels.search_users))]),e("sui-remote-search",{attrs:{id:t.modal+"-search","label-id":t.modal+"-search-label",placeholder:t.$i18n.settings.labels.type_user_name,ajax:t.ajaxObject},model:{value:t.selected,callback:function(s){t.selected=s},expression:"selected"}})],1)]),e("div",{staticClass:"sui-box-footer sui-flatten sui-content-separated"},[e("button",{staticClass:"sui-button sui-button-ghost",on:{click:t.closeModal}},[t._v(t._s(t.$i18n.dialogs.cancel))]),e("button",{staticClass:"sui-button",class:t.loadingClass,attrs:{type:"button","aria-live":"polite",disabled:!t.selected},on:{click:t.addUser}},[e("span",{staticClass:"sui-button-text-default"},[e("i",{staticClass:"sui-icon-check",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.buttons.add)+" ")]),e("span",{staticClass:"sui-button-text-onload"},[e("i",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.buttons.adding)+" ")])])])])])])},Ts=[],Us=(e("99af"),e("4160"),e("caad"),e("2532"),e("159b"),e("2909")),Ps=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("select",{staticClass:"sui-search",attrs:{multiple:"multiple",id:t.id,"aria-labelledby":t.labelId,"aria-describedby":t.descId,disabled:t.disabled}})},Es=[],Rs=(e("a9e3"),{name:"SuiRemoteSearch",props:{id:{type:String,required:!0},value:{type:String|Number,required:!0},labelId:{type:String,required:!1},descId:{type:String,required:!1},placeholder:{type:String,required:!1},disabled:{type:Boolean,default:!1},ajax:{type:Object,required:!0}},data:function(){return{select2:null}},mounted:function(){this.select2=jQuery("#"+this.id),this.initSelect2()},watch:{value:function(t){this.select2.val(t).trigger("change")}},destroyed:function(){this.select2.off().SUIselect2("destroy")},methods:{initSelect2:function(){var t=this;this.select2.SUIselect2({minimumInputLength:2,maximumSelectionLength:1,dropdownCssClass:"sui-search-dropdown",placeholder:this.placeholder,ajax:this.ajax}).on("change",(function(){t.$emit("input",this.value)})).val(this.value).trigger("change")}}}),zs=Rs,Ms=Object(h["a"])(zs,Ps,Es,!1,null,null,null),Ds=Ms.exports,Fs={name:"UsersForm",components:{SuiRemoteSearch:Ds},data:function(){return{modal:"beehive-settings-permissions-exclude-modal",closeFocus:null,adding:!1,type:"exclude",selected:""}},mounted:function(){SUI.modalDialog()},created:function(){var t=this;this.$root.$on("openSettingsPermissionsUsersForm",(function(s){t.type=s.type,t.closeFocus=s.focus,t.openModal()}))},computed:{loadingClass:function(){return{"sui-button-onload-text":this.adding}},includeUsers:{get:function(){return this.getOption("settings_include_users","permissions",[])},set:function(t){this.setOption("settings_include_users","permissions",t)}},excludeUsers:{get:function(){return this.getOption("settings_exclude_users","permissions",[])},set:function(t){this.setOption("settings_exclude_users","permissions",t)}},ajaxObject:function(){var t=this;return{url:this.$vars.rest.base+"data/users",dataType:"json",data:this.formatParams,beforeSend:function(s){s.setRequestHeader("X-WP-Nonce",t.$vars.rest.nonce)},processResults:this.processData}}},methods:{addUser:function(){this.adding=!0,this.selected>0&&("exclude"===this.type?this.addExcludedUser(this.selected):this.addIncludedUser(this.selected)),this.closeModal(),this.adding=!1},addIncludedUser:function(t){this.includeUsers.includes(t)||this.includeUsers.push(t)},addExcludedUser:function(t){this.excludeUsers.includes(t)||this.excludeUsers.push(t)},openModal:function(){SUI.openModal(this.modal,this.closeFocus,this.modal+"-close")},closeModal:function(){SUI.closeModal(),this.selected=""},processData:function(t){var s=this,e=[];return t.data.forEach((function(t){s.$store.dispatch("helpers/setUser",t),e.push({id:t.ID,text:"".concat(t.display_name," (").concat(t.user_email,")")})})),{results:e}},formatParams:function(t){var s={network:this.isNetwork()?1:0,search:t.term,exclude_ids:[].concat(Object(Us["a"])(this.excludeUsers),Object(Us["a"])(this.includeUsers))};return"exclude"===this.type?s.include_roles=this.getOption("settings_roles","permissions",[]):s.exclude_roles=this.getOption("settings_roles","permissions",[]),s}}},Bs=Fs,Ls=Object(h["a"])(Bs,js,Ts,!1,null,null,null),Vs=Ls.exports,qs=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-form-field"},[t.isMultisite()?e("label",{staticClass:"sui-checkbox sui-checkbox-stacked",attrs:{for:"beehive-settings-permissions-user-role-network-administrator"}},[e("input",{attrs:{type:"checkbox",id:"beehive-settings-permissions-user-role-network-administrator","aria-labelledby":"beehive-settings-permissions-user-role-network-administrator-label",checked:"",disabled:""}}),e("span",{attrs:{"aria-hidden":"true"}}),e("span",{attrs:{id:"beehive-settings-permissions-user-role-network-administrator-label"}},[t._v(t._s(t.$i18n.settings.labels.network_administrator))])]):t._e(),e("label",{staticClass:"sui-checkbox sui-checkbox-stacked",attrs:{for:"beehive-settings-permissions-user-role-administrator"}},[e("input",{attrs:{type:"checkbox",id:"beehive-settings-permissions-user-role-administrator","aria-labelledby":"beehive-settings-permissions-user-role-administrator-label",checked:"",disabled:""}}),e("span",{attrs:{"aria-hidden":"true"}}),e("span",{attrs:{id:"beehive-settings-permissions-user-role-administrator-label"}},[t._v(t._s(t.$i18n.settings.labels.administrator))])]),t._l(t.roles,(function(s,i){return e("label",{key:i,staticClass:"sui-checkbox sui-checkbox-stacked",attrs:{for:"beehive-settings-permissions-user-role-"+i}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.enabledRoles,expression:"enabledRoles"}],attrs:{type:"checkbox",id:"beehive-settings-permissions-user-role-"+i,"aria-labelledby":"beehive-settings-permissions-user-role-"+i+"-label",disabled:t.shouldDisable},domProps:{value:i,checked:Array.isArray(t.enabledRoles)?t._i(t.enabledRoles,i)>-1:t.enabledRoles},on:{change:function(s){var e=t.enabledRoles,n=s.target,a=!!n.checked;if(Array.isArray(e)){var o=i,r=t._i(e,o);n.checked?r<0&&(t.enabledRoles=e.concat([o])):r>-1&&(t.enabledRoles=e.slice(0,r).concat(e.slice(r+1)))}else t.enabledRoles=a}}}),e("span",{attrs:{"aria-hidden":"true"}}),e("span",{attrs:{id:"beehive-settings-permissions-user-role-"+i+"-label"}},[t._v(t._s(s))])])}))],2)},Hs=[],Gs={name:"SettingsRoles",data:function(){return{roles:this.$moduleVars.roles}},computed:{enabledRoles:{get:function(){return this.getOption("settings_roles","permissions",[])},set:function(t){this.setOption("settings_roles","permissions",t)}},shouldDisable:function(){return this.isNetwork()&&this.getOption("overwrite_settings_cap","permissions")}}},Ws=Gs,Qs=Object(h["a"])(Ws,qs,Hs,!1,null,null,null),Js=Qs.exports,Xs=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-side-tabs sui-tabs"},[e("div",{attrs:{"data-tabs":""}},[e("div",{staticClass:"active"},[t._v(t._s(t.$i18n.settings.buttons.exclude))]),e("div",[t._v(t._s(t.$i18n.settings.buttons.include))])]),e("div",{attrs:{"data-panes":""}},[e("div",{staticClass:"active"},[e("p",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.settings.descriptions.exclude_users))]),t.excludeUsers.length?e("label",{staticClass:"sui-label"},[t._v(t._s(t.$i18n.settings.labels.excluded_users))]):t._e(),t._l(t.excludeUsers,(function(s){return e("recipient-item",{key:s,attrs:{type:"exclude",user:s,disabled:t.shouldDisable},on:{removeUser:t.removeExcludedUser}})})),e("button",{staticClass:"sui-button sui-button-ghost",attrs:{role:"button",id:"beehive-permissions-settings-users-exclude-open",disabled:t.shouldDisable},on:{click:t.openExcludeUserForm}},[e("i",{staticClass:"sui-icon-plus",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.settings.buttons.add_user)+" ")])],2),e("div",[e("p",{staticClass:"sui-description"},[t._v(t._s(t.$i18n.settings.descriptions.include_users))]),t.includeUsers.length?e("label",{staticClass:"sui-label"},[t._v(t._s(t.$i18n.settings.labels.include_users))]):t._e(),t._l(t.includeUsers,(function(s){return e("recipient-item",{key:s,attrs:{type:"include",user:s,disabled:t.shouldDisable},on:{removeUser:t.removeIncludedUser}})})),e("button",{staticClass:"sui-button sui-button-ghost",attrs:{role:"button",id:"beehive-permissions-settings-users-include-open",disabled:t.shouldDisable},on:{click:t.openIncludeUserForm}},[e("i",{staticClass:"sui-icon-plus",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.settings.buttons.add_user)+" ")])],2)])])},Ks=[],Ys=(e("4de4"),function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-recipient"},[e("span",{staticClass:"sui-recipient-name"},[t._v(t._s(t.getName))]),e("span",{staticClass:"sui-recipient-email"},[t._v(t._s(t.getEmail))]),e("button",{staticClass:"sui-button-icon",attrs:{type:"button",disabled:t.disabled||t.$moduleVars.current_user==t.user},on:{click:function(s){return t.$emit("removeUser",t.user)}}},[e("i",{staticClass:"sui-icon-trash",attrs:{"aria-hidden":"true"}})])])}),Zs=[],te={name:"RecipientItem",props:{user:{type:Number|String,required:!0},type:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{getName:function(){var t=this.$store.getters["helpers/user"](this.user);return t.display_name||"-"},getEmail:function(){var t=this.$store.getters["helpers/user"](this.user);return t.user_email||"-"}}},se=te,ee=Object(h["a"])(se,Ys,Zs,!1,null,null,null),ie=ee.exports,ne={name:"SettingsUsers",components:{RecipientItem:ie},computed:{includeUsers:{get:function(){return this.getOption("settings_include_users","permissions",[])},set:function(t){this.setOption("settings_include_users","permissions",t)}},excludeUsers:{get:function(){return this.getOption("settings_exclude_users","permissions",[])},set:function(t){this.setOption("settings_exclude_users","permissions",t)}},shouldDisable:function(){return this.isNetwork()&&this.getOption("overwrite_settings_cap","permissions")}},methods:{removeIncludedUser:function(t){this.includeUsers.includes(t)&&this.$moduleVars.current_user!=t&&(this.includeUsers=this.includeUsers.filter((function(s){return s!=t})))},removeExcludedUser:function(t){this.excludeUsers.includes(t)&&this.$moduleVars.current_user!=t&&(this.excludeUsers=this.excludeUsers.filter((function(s){return s!=t})))},openExcludeUserForm:function(){this.$root.$emit("openSettingsPermissionsUsersForm",{type:"exclude",focus:"beehive-permissions-settings-users-exclude-open"})},openIncludeUserForm:function(){this.$root.$emit("openSettingsPermissionsUsersForm",{type:"include",focus:"beehive-permissions-settings-users-include-open"})}}},ae=ne,oe=Object(h["a"])(ae,Xs,Ks,!1,null,null,null),re=oe.exports,ce=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-accordion",attrs:{id:"beehive-settings-permissions-roles"}},[t.isNetwork()?e("div",{staticClass:"sui-accordion-item sui-accordion-item--disabled"},[e("div",{staticClass:"sui-accordion-item-header"},[e("div",{staticClass:"sui-accordion-item-title"},[e("label",{staticClass:"sui-toggle sui-accordion-item-action",attrs:{for:"beehive-settings-permissions-roles-network-administrator"}},[e("input",{attrs:{type:"checkbox",id:"beehive-settings-permissions-roles-network-administrator",checked:"",disabled:""}}),e("span",{staticClass:"sui-toggle-slider",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sui-screen-reader-text"},[t._v(t._s(t.$i18n.settings.labels.network_administrator))])]),e("span",[t._v(t._s(t.$i18n.settings.labels.network_administrator))])]),e("div",{staticClass:"sui-accordion-col-auto",style:{"pointer-events":"all"}},[e("span",{staticClass:"sui-tooltip sui-tooltip-constrained",attrs:{"data-tooltip":t.$i18n.settings.tooltips.network_administrator}},[e("i",{staticClass:"sui-icon-info",attrs:{"aria-hidden":"true"}})]),e("button",{staticClass:"sui-button-icon sui-accordion-open-indicator",attrs:{"aria-label":t.$i18n.accordions.open}},[e("i",{staticClass:"sui-icon-chevron-down",attrs:{"aria-hidden":"true"}})])])])]):e("div",{staticClass:"sui-accordion-item sui-accordion-item--disabled"},[e("div",{staticClass:"sui-accordion-item-header"},[e("div",{staticClass:"sui-accordion-item-title"},[e("label",{staticClass:"sui-toggle sui-accordion-item-action",attrs:{for:"beehive-settings-permissions-roles-administrator"}},[e("input",{attrs:{type:"checkbox",id:"beehive-settings-permissions-roles-administrator",checked:"",disabled:""}}),e("span",{staticClass:"sui-toggle-slider",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sui-screen-reader-text"},[t._v(t._s(t.$i18n.settings.labels.administrator))])]),e("span",[t._v(t._s(t.$i18n.settings.labels.administrator))])]),e("div",{staticClass:"sui-accordion-col-auto",style:{"pointer-events":"all"}},[e("span",{staticClass:"sui-tooltip sui-tooltip-constrained",attrs:{"data-tooltip":t.$i18n.settings.tooltips.administrator}},[e("i",{staticClass:"sui-icon-info",attrs:{"aria-hidden":"true"}})]),e("button",{staticClass:"sui-button-icon sui-accordion-open-indicator",attrs:{"aria-label":t.$i18n.accordions.open}},[e("i",{staticClass:"sui-icon-chevron-down",attrs:{"aria-hidden":"true"}})])])])]),t._l(t.roles,(function(s,i){return e("div",{key:i,staticClass:"sui-accordion-item",class:t.accordionClass(i)},[e("div",{staticClass:"sui-accordion-item-header"},[e("div",{staticClass:"sui-accordion-item-title"},[e("label",{staticClass:"sui-toggle sui-accordion-item-action",attrs:{for:"beehive-settings-permissions-roles-"+i}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.enabledRoles,expression:"enabledRoles"}],attrs:{type:"checkbox",id:"beehive-settings-permissions-roles-"+i,disabled:t.overwriteCap},domProps:{value:i,checked:Array.isArray(t.enabledRoles)?t._i(t.enabledRoles,i)>-1:t.enabledRoles},on:{change:function(s){var e=t.enabledRoles,n=s.target,a=!!n.checked;if(Array.isArray(e)){var o=i,r=t._i(e,o);n.checked?r<0&&(t.enabledRoles=e.concat([o])):r>-1&&(t.enabledRoles=e.slice(0,r).concat(e.slice(r+1)))}else t.enabledRoles=a}}}),e("span",{staticClass:"sui-toggle-slider",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sui-screen-reader-text"},[t._v(t._s(s))])]),e("span",[t._v(t._s(s))])]),e("div",{staticClass:"sui-accordion-col-auto"},[e("button",{staticClass:"sui-button-icon sui-accordion-open-indicator",attrs:{"aria-label":t.$i18n.accordions.open}},[e("i",{staticClass:"sui-icon-chevron-down",attrs:{"aria-hidden":"true"}})])])]),e("div",{staticClass:"sui-accordion-item-body"},[e("div",{staticClass:"sui-box"},[e("div",{staticClass:"sui-box-body"},t._l(t.getReportItems,(function(t,s){return e("div",{key:s,staticClass:"sui-form-field"},[e("report-tree",{attrs:{role:i,type:t.name,title:t.title,items:t.children}})],1)})),0)])])])}))],2)},le=[],ue=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("sui-tree",{attrs:{id:"beehive-permissions-tree-"+t.type+"-"+t.role,items:t.tree,"selected-items":t.getReports(),data:t.data},on:{itemSelect:t.handleChange}})},de=[],pe=(e("c975"),e("a434"),function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",{staticClass:"sui-tree",attrs:{"data-tree":"selector",role:"group",id:t.id}},t._l(t.items,(function(s){return e("tree-item",{key:s.name,attrs:{tree:t.id,data:t.data,child:s.name,title:s.title,children:s.children,"selected-items":t.selectedItems,"disabled-items":t.disabledItems},on:{itemSelect:t.itemSelect}})})),1)}),ge=[],he=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("li",{attrs:{role:"treeitem","aria-selected":t.isSelected,"aria-disabled":t.isDisabled}},[e("div",{staticClass:"sui-tree-node"},[e("label",{staticClass:"sui-node-checkbox",attrs:{for:t.tree+"-"+t.parent+"-"+t.child}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{type:"checkbox",id:t.tree+"-"+t.parent+"-"+t.child},domProps:{checked:Array.isArray(t.checked)?t._i(t.checked,null)>-1:t.checked},on:{change:function(s){var e=t.checked,i=s.target,n=!!i.checked;if(Array.isArray(e)){var a=null,o=t._i(e,a);i.checked?o<0&&(t.checked=e.concat([a])):o>-1&&(t.checked=e.slice(0,o).concat(e.slice(o+1)))}else t.checked=n}}}),e("span",{attrs:{"aria-hidden":"true"}}),e("span",[t._v(t._s(t.$i18n.trees.select))])]),e("span",{staticClass:"sui-node-text"},[t._v(t._s(t.title))]),t.hasChildren?e("button",{attrs:{"data-button":"expander"}},[e("span",{attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sui-screen-reader-text"},[t._v(t._s(t.$i18n.trees.open_close))])]):t._e()]),t.hasChildren?e("ul",{attrs:{role:"group"}},t._l(t.children,(function(s){return e("tree-item",{key:s.name,attrs:{tree:t.tree,data:t.data,child:s.name,parent:t.child,title:s.title,children:t.getChildren(s),"selected-items":t.selectedItems,"disabled-items":t.disabledItems},on:{itemSelect:t.itemSelect}})})),1):t._e()])},me=[],be=(e("b0c0"),{name:"TreeItem",props:{children:Array,child:String,parent:{type:String,default:""},tree:{type:String,required:!0},title:{type:String,required:!0},data:{type:Object,default:{}},disabledItems:{type:Array},selectedItems:{type:Array}},data:function(){return{checked:this.isSelected}},watch:{checked:function(t){this.emitChange({name:this.child,children:this.hasChildren?this.children:[]},t)}},computed:{hasChildren:function(){return this.children.length>0},isSelected:function(){return this.selectedItems&&this.selectedItems.includes(this.child)},isDisabled:function(){return this.disabledItems&&this.disabledItems.includes(this.child)}},methods:{getChildren:function(t){return t.children||[]},emitChange:function(t,s){var e=this;t.children&&t.children.length>0&&t.children.forEach((function(t){e.emitChange(t,s)})),this.$emit("itemSelect",{tree:this.tree,item:t.name,checked:s,data:this.data})},itemSelect:function(t){this.$emit("itemSelect",t)}}}),ve=be,_e=Object(h["a"])(ve,he,me,!1,null,null,null),fe=_e.exports,Ce={name:"SuiTree",props:{id:{type:String,required:!0},items:{type:Array,required:!0},data:{type:Object,default:{}},disabledItems:{type:Array},selectedItems:{type:Array}},components:{TreeItem:fe},mounted:function(){this.$nextTick((function(){SUI.suiTree(jQuery("#"+this.id),!0)}))},methods:{itemSelect:function(t){this.$emit("itemSelect",t)}}},ye=Ce,ke=Object(h["a"])(ye,pe,ge,!1,null,null,null),$e=ke.exports,xe={name:"ReportTree",props:{role:String,type:String,title:String,items:{type:Array,required:!0}},components:{SuiTree:$e},data:function(){return{data:{type:this.type,role:this.role},tree:[{name:this.type,title:this.title,children:this.items}]}},methods:{getReports:function(){var t=this.getOption(this.role,"reports",{});return t[this.type]||[]},setReports:function(t){var s=this.getOption(this.role,"reports",{});s[this.type]=t,this.setOption(this.role,"reports",s)},handleChange:function(t){t.item&&t.data.type===this.type&&t.data.role===this.role&&(t.checked?this.setSelected(t.item):this.removeSelected(t.item))},setSelected:function(t){var s=this.getReports();s.includes(t)||s.push(t),this.setReports(s)},removeSelected:function(t){var s=this.getReports();if(s.includes(t)){var e=s.indexOf(t);-1!==e&&s.splice(e,1)}this.setReports(s)},getTotalSelected:function(){return this.$moduleVars.report_tree||{}}}},we=xe,Se=Object(h["a"])(we,ue,de,!1,null,null,null),Oe=Se.exports,Ae={name:"StatisticsRoles",components:{ReportTree:Oe},mounted:function(){SUI.suiAccordion(jQuery("#beehive-settings-permissions-roles"))},data:function(){return{roles:this.$moduleVars.roles}},computed:{enabledRoles:{get:function(){return this.getOption("roles","permissions",[])},set:function(t){this.setOption("roles","permissions",t)}},overwriteCap:function(){return this.getOption("overwrite_cap","permissions")},getReportItems:function(){return this.$moduleVars.report_tree||{}}},methods:{accordionClass:function(t){this.getOption("overwrite_cap","permissions");return{"sui-accordion-item--disabled":!this.enabledRoles.includes(t)||this.overwriteCap}}}},Ie=Ae,Ne=Object(h["a"])(Ie,ce,le,!1,null,null,null),je=Ne.exports,Te=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-form-field"},[e("label",{staticClass:"sui-label",attrs:{for:"beehive-settings-custom-cap"}},[t._v(t._s(t.$i18n.settings.labels.custom_capability))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.customCap,expression:"customCap"}],staticClass:"sui-form-control",attrs:{type:"text",id:"beehive-settings-custom-cap",placeholder:t.$i18n.settings.placeholders.custom_capability},domProps:{value:t.customCap},on:{input:function(s){s.target.composing||(t.customCap=s.target.value)}}}),e("span",{staticClass:"sui-description",domProps:{innerHTML:t._s(t.sprintf(t.$i18n.settings.descriptions.custom_capability,"https://wordpress.org/support/article/roles-and-capabilities/"))}})])},Ue=[],Pe={name:"StatisticsCapability",computed:{customCap:{get:function(){return this.getOption("custom_cap","permissions","")},set:function(t){this.setOption("custom_cap","permissions",t)}}}},Ee=Pe,Re=Object(h["a"])(Ee,Te,Ue,!1,null,null,null),ze=Re.exports,Me=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sui-border-frame"},[e("div",{staticClass:"sui-form-field"},[e("label",{staticClass:"sui-checkbox sui-checkbox-sm",attrs:{for:t.id}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.override,expression:"override"}],attrs:{type:"checkbox",id:t.id,"aria-labelledby":t.id+"-label"},domProps:{checked:Array.isArray(t.override)?t._i(t.override,null)>-1:t.override},on:{change:[function(s){var e=t.override,i=s.target,n=!!i.checked;if(Array.isArray(e)){var a=null,o=t._i(e,a);i.checked?o<0&&(t.override=e.concat([a])):o>-1&&(t.override=e.slice(0,o).concat(e.slice(o+1)))}else t.override=n},t.handleInput]}}),e("span",{attrs:{"aria-hidden":"true"}}),e("span",{attrs:{id:t.id+"-label"}},[t._v(t._s(t.label))])])])])},De=[],Fe={name:"OverrideSettings",props:{id:{type:String,required:!0},label:{type:String,required:!0},value:{type:Boolean,required:!0}},data:function(){return{override:this.value}},methods:{handleInput:function(){this.$emit("input",this.override)}}},Be=Fe,Le=Object(h["a"])(Be,Me,De,!1,null,null,null),Ve=Le.exports,qe={name:"Permissions",components:{UsersForm:Vs,BoxHeader:et,BoxFooter:X,SettingsUsers:re,SettingsRoles:Js,StatisticsRoles:je,OverrideSettings:Ve,StatisticsCapability:ze},mounted:function(){SUI.tabs(),SUI.suiTabs()},created:function(){var t=this;this.$router.beforeEach((function(s,e,i){"/permissions"!==s.path||t.canShow?i():i({path:"/general"})}))},computed:{canShow:function(){return this.canShowSettings||this.canShowStats},canShowSettings:function(){return!this.isNetworkWide()||!this.isSubsite()||this.getOption("overwrite_settings_cap","permissions",!1,!0)},canShowStats:function(){return!this.isNetworkWide()||!this.isSubsite()||this.getOption("overwrite_cap","permissions",!1,!0)},overwriteSettingsCap:{get:function(){return this.getOption("overwrite_settings_cap","permissions")},set:function(t){this.setOption("overwrite_settings_cap","permissions",t)}},overwriteStatsCap:{get:function(){return this.getOption("overwrite_cap","permissions")},set:function(t){this.setOption("overwrite_cap","permissions",t)}},tabsContentClass:function(){return{"sui-tabs-content":!0,"beehive-disable":this.overwriteSettingsCap}}},methods:{saveSettings:function(t){"permissions"===t&&this.$emit("saveSettings",{})}}},He=qe,Ge=Object(h["a"])(He,Is,Ns,!1,null,null,null),We=Ge.exports;i["a"].use($["a"]);var Qe=new $["a"]({linkActiveClass:"current",routes:[{path:"/",redirect:"/tracking"},{path:"/tracking",name:"Tracking",component:As},{path:"/general",name:"General",component:pt},{path:"/permissions",name:"Permissions",component:We}]}),Je=e("9d51"),Xe=e("3f08"),Ke=e("e19f"),Ye=e("5b5e");i["a"].config.productionTip=!1,i["a"].mixin({methods:{sprintf:Ke["sprintf"],getOption:Ye["b"],setOption:Ye["k"],saveOptions:Ye["j"],isNetwork:Ye["f"],isMultisite:Ye["e"],isSubsite:Ye["h"],isNetworkWide:Ye["g"]}}),i["a"].prototype.$i18n=window.beehiveI18n,i["a"].prototype.$vars=window.beehiveVars,i["a"].prototype.$moduleVars=window.beehiveModuleVars,i["a"].use(Xe["b"].Plugin),new i["a"]({router:Qe,render:function(t){return t(k)},store:Je["a"]}).$mount("#beehive-settings-app")},b197:function(t,s,e){},bb5e:function(t,s,e){"use strict";var i=e("b197"),n=e.n(i);n.a}});